<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Securing and Connecting Azure Resources from On-Premise Machines - Rupesh Tiwari - Founder of Fullstack Master</title>
<meta name="description" content="How to connect Azure resources from on-premise machines">


  <meta name="author" content="Rupesh Tiwari">
  
  <meta property="article:author" content="Rupesh Tiwari">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Rupesh Tiwari - Founder of Fullstack Master">
<meta property="og:title" content="Securing and Connecting Azure Resources from On-Premise Machines">
<meta property="og:url" content="https://www.rupeshtiwari.com/connect-azure-resources-from-on-premise-machines/">


  <meta property="og:description" content="How to connect Azure resources from on-premise machines">



  <meta property="og:image" content="https://i.imgur.com/qxXxmBa.png">



  <meta name="twitter:site" content="@rupeshtiwari_co">
  <meta name="twitter:title" content="Securing and Connecting Azure Resources from On-Premise Machines">
  <meta name="twitter:description" content="How to connect Azure resources from on-premise machines">
  <meta name="twitter:url" content="https://www.rupeshtiwari.com/connect-azure-resources-from-on-premise-machines/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://i.imgur.com/qxXxmBa.png">
  

  



  <meta property="article:published_time" content="2021-08-25T00:00:00+00:00">





  
    <meta property="article:publisher" content="https://www.facebook.com/fullstackmaster1">
  

  
    <meta property="fb:app_id" content="421181512329379">
  


<link rel="canonical" href="https://www.rupeshtiwari.com/connect-azure-resources-from-on-premise-machines/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://www.rupeshtiwari.com/"
    
  }
</script>



  <meta name="msvalidate.01" content="8BC08291167B3E15CC4FCC21C5895052">




<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Rupesh Tiwari - Founder of Fullstack Master Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Rupesh Tiwari
          <span class="site-subtitle">Sr. Software Architect, Author & Trainer</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">blog</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">about</a>
            </li><li class="masthead__menu-item">
              <a href="https://youtube.com/fullstackmaster">youtube</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">tags</a>
            </li><li class="masthead__menu-item">
              <a href="/consulting/">consulting</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.fullstackmaster.net/pro">angular training</a>
            </li><li class="masthead__menu-item">
              <a href="https://fullstackmaster.net/login">sign in</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero"
  style=" background-image: url('');"
>
  
    <img src="https://i.imgur.com/zipiW93.png" alt="Securing and Connecting Azure Resources from On-Premise Machines" class="page__hero-image">
  
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://www.rupeshtiwari.com/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Securing and Connecting Azure Resources from On-Premise Machines</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio-photo.jpg" alt="Rupesh Tiwari" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Rupesh Tiwari</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I help students and professionals to become Full Stack Software Developer in less than a year!</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="rupesh.tiwari.info@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="/posts/" rel="nofollow noopener noreferrer"><i class="fa fa-th-large" aria-hidden="true"></i><span class="label">Blogs</span></a></li>
          
        
          
            <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i><span class="label">Medium</span></a></li>
          
        
          
            <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i><span class="label">Dev.to</span></a></li>
          
        
          
            <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="http://twitter.com/rupeshtiwari_co" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
          
            <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i><span class="label">Angular Training</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Securing and Connecting Azure Resources from On-Premise Machines">
    <meta itemprop="description" content="  You want to connect your Azure resources from your on-premise office machine or home laptop right? So how would you do that? Read this article. In order to connect machine/servers residing over your on-premise office from home you need internet. You know anything over internet is not secure. So how would you secure your connection?">
    <meta itemprop="datePublished" content="2021-08-25T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Securing and Connecting Azure Resources from On-Premise Machines
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#how-can-i-connect-machine-or-server-residing-in-my-on-premise-office">How can I connect machine or server residing in my on-premise office?</a></li><li><a href="#how-would-i-secure-my-data-while-connecting-to-on-premise-office-servers">How would I secure my data while connecting to on-premise Office servers?</a></li><li><a href="#how-do-i-connect-azure-resources-from-my-home-pc-or-office-pc">How do I connect Azure Resources from my Home PC or office PC?</a></li><li><a href="#why-i-need-vnet-in-azure">Why I need VNet in Azure?</a></li><li><a href="#what-do-i-need-in-azure-cloud-to-allow-vpn-connection">What do I need in Azure Cloud to allow VPN connection?</a></li><li><a href="#how-do-i-secure-my-azure-resources-within-vnet">How do I secure my Azure resources within VNet?</a></li><li><a href="#why-do-i-create-subnets-in-azure-how-it-help-securing-resources">Why do I create Subnets in Azure, how it help securing resources?</a></li><li><a href="#securing-azure-resources-using-3-tier-architecture">Securing Azure resources using 3 Tier Architecture</a></li><li><a href="#securing-azure-resources-using-azure-firewall">Securing Azure resources using Azure Firewall</a></li><li><a href="#references">References</a></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p>You want to connect your Azure resources from your on-premise office machine or home laptop right? So how would you do that? Read this article. In order to connect machine/servers residing over your on-premise office from home you need internet. You know anything over internet is not secure. So how would you secure your connection?</p>
</blockquote>

<h2 id="how-can-i-connect-machine-or-server-residing-in-my-on-premise-office">How can I connect machine or server residing in my on-premise office?</h2>

<p>Well you need internet and route your connection to you office machine. For that you have to expose your office server or machine IP addresses over internet so that you can connect them. However, this will put your official data at risk. Now anyone over internet can connect your machine and stole data. Or hacker can trap your communication over internet and hack your data or machine.</p>

<p><img src="https://i.imgur.com/QS10v0g.png" alt="" class="full" /></p>

<h2 id="how-would-i-secure-my-data-while-connecting-to-on-premise-office-servers">How would I secure my data while connecting to on-premise Office servers?</h2>

<p><strong>VPN</strong> is the secure way to connect to other machines over internet. If you want to connect machine which is in your office building from your home. You need internet and the data that you will transfer from your office to your home is exposed to internet. Any malicious user can access/read/manipulate that data. In order to secure your traffic data over internet. You must need <code class="language-plaintext highlighter-rouge">VPN</code> connection. <code class="language-plaintext highlighter-rouge">VPN</code> creates a encrypted tunnel from your home laptop to the office machine. All data is isolated/encrypted using <code class="language-plaintext highlighter-rouge">different IPSec tunnels</code> created by VPN. Now your data over internet is secure in-transit.</p>

<p><img src="https://i.imgur.com/wf42pox.png" alt="" class="full" /></p>

<h2 id="how-do-i-connect-azure-resources-from-my-home-pc-or-office-pc">How do I connect Azure Resources from my Home PC or office PC?</h2>

<p>If you have on-premise office or home laptop to connect Azure VNet. You need <code class="language-plaintext highlighter-rouge">VPN</code> setup with physical device in on-premise location. And you need <code class="language-plaintext highlighter-rouge">VPN Gateway</code> on Azure <code class="language-plaintext highlighter-rouge">VNet</code>. A <code class="language-plaintext highlighter-rouge">VPN Gateway</code> is used when creating a VPN connection from your on-premises network.</p>

<p><img src="https://i.imgur.com/NMq78SM.png" alt="" class="full" /></p>

<p>If you want to put your azure resources in private network over cloud. You must create <code class="language-plaintext highlighter-rouge">VNet</code> and assign all resource to that VNet in a same region. All resources within VNet must be in one region. So you must create VNet in Azure cloud.</p>

<p><img src="https://docs.microsoft.com/en-us/azure/vpn-gateway/media/design/point-to-site.png" alt="" class="full" /></p>

<p>If you have your own on-premise office or home laptop to connect to your Azure resources. Which is in VNet you must use VPN technology to connect to your Azure resources inside VNet.
You could use other options like Express Route circuit which is costly and fast option. In this article I will discuss VPN option. VPN uses internet to flow your data. However Express Route uses dedicated connection that doesn’t uses internet.</p>

<h2 id="why-i-need-vnet-in-azure">Why I need VNet in Azure?</h2>

<p><code class="language-plaintext highlighter-rouge">VNet</code> is a private network in cloud. Just like on-premise we create network.
All resources inside Azure VNet can browse internet. (outbound is allowed by default)
<strong>However, from internet you can not connect to the VM or any resources present within a VNet by default inbound are restricted from any public IP</strong>. In order to perform this activity you must deploy Azure Public IP resource in your VNet. <a href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-networks-overview#communicate-with-the-internet">Read more here.</a>. Therefore, VNet provides isolation to your Azure resources over cloud.</p>

<p class="notice--success">🏆 <strong>Pro Tip</strong> <br />
<br />
I was wondering <strong>Why we are able to communicate our web apps in Azure from internet?</strong>
And I found this answer promising. <strong>By default, apps hosted in App Service are accessible directly through the internet.</strong> <a href="https://docs.microsoft.com/en-us/azure/app-service/networking-features">Read more here</a>.</p>

<h2 id="what-do-i-need-in-azure-cloud-to-allow-vpn-connection">What do I need in Azure Cloud to allow VPN connection?</h2>

<p>In order to configure and allow connection of on-premise VPN to VNet in Azure ( also called as site to site or point to site ). In Azure cloud you must create <code class="language-plaintext highlighter-rouge">Virtual Network Gateway</code> or <code class="language-plaintext highlighter-rouge">VPN Gateway</code>. This VPN Gateway allows VPN traffic to flow in your Azure VNet.</p>

<p>In order to create Azure <code class="language-plaintext highlighter-rouge">Virtual Network Gateway</code>, you have to first create <code class="language-plaintext highlighter-rouge">GatewaySubnet</code>. Because VPN Gateway needs dedicated subnet.</p>

<p><img src="https://i.imgur.com/SHuiEd0.png" alt="" class="full" /></p>

<p class="notice--success">🏆 <strong>Pro Tip</strong> <br />
<br />
Only one <code class="language-plaintext highlighter-rouge">VPN Gateway</code> is allowed in <code class="language-plaintext highlighter-rouge">Azure Virtual Network (VNet)</code></p>

<h2 id="how-do-i-secure-my-azure-resources-within-vnet">How do I secure my Azure resources within VNet?</h2>

<p>Now in order to restrict which traffic can flow to your Azure VNet resources. You must configure <code class="language-plaintext highlighter-rouge">Azure Firewall</code> or <code class="language-plaintext highlighter-rouge">Network Security Group</code>. To restrict outside IP address traffic in VNet you must configure <code class="language-plaintext highlighter-rouge">Azure Firewall</code>.</p>

<p>If you want to restrict traffic within VNet then you must configure <code class="language-plaintext highlighter-rouge">Network Security Group</code> in subnet. Suppose within your VNet you created 2 Subnet. One subnet called as <code class="language-plaintext highlighter-rouge">subnet-web</code> for Web Apps. Which are exposed to public IP address. So that people can access your app. Then in this subnet you need different rule.</p>

<p><img src="https://i.imgur.com/hjLbP0i.png" alt="" class="full" /></p>

<p>You created another <code class="language-plaintext highlighter-rouge">subnet-business</code> where you deploy resources containing your business rules.</p>

<p>You created another <code class="language-plaintext highlighter-rouge">subnet-data</code> where you deploy resources containing your databases.</p>

<p>Now you want to restrict that any resources in <code class="language-plaintext highlighter-rouge">subnet-web</code> can not communicate directly to <code class="language-plaintext highlighter-rouge">subnet-data</code> resources. You need to create <code class="language-plaintext highlighter-rouge">Network Security Group (NSG)</code> in order to achieve this security.</p>

<p>However, you want to restrict both <code class="language-plaintext highlighter-rouge">subnet-data</code> and <code class="language-plaintext highlighter-rouge">subnet-business</code> resources from outside world even from VPN clients. You have to setup <code class="language-plaintext highlighter-rouge">Azure Firewall</code> which works at VNet level. There you can create rule that outside traffic can not directly go to <code class="language-plaintext highlighter-rouge">subnet-data</code> or <code class="language-plaintext highlighter-rouge">subnet-business</code>.</p>

<h2 id="why-do-i-create-subnets-in-azure-how-it-help-securing-resources">Why do I create Subnets in Azure, how it help securing resources?</h2>

<p>I categorize Azure resources in 3 divisions:</p>

<ul>
  <li>Public/Internet exposed resources</li>
  <li>Internal business resources</li>
  <li>Private resources</li>
</ul>

<p>In order to secure private resources over azure. We should restrict outside IP addresses to communicate our private Azure resources like Azure storage, DB, Key Vault etc.</p>

<p>To secure resources in Azure we can use below Azure services:</p>

<ul>
  <li>Azure Firewall</li>
  <li>Network Security Group</li>
  <li>Application Gateway. (2 and 3 are required when we have multiple subnets. Partitioning resources in various subnets are recommended also.)</li>
</ul>

<p>For robust security, we must deploy both Azure Firewall and Azure Network Security Group or Azure Application Gateway. I personally prefer <code class="language-plaintext highlighter-rouge">Azure Firewall and Application Gateway</code>. Because Application Gateway provides easy and friendly way to manage resources.</p>

<p>In order to separate resources in private and public access category and secure them accordingly we need to create Azure Subnet. We want strong security for our private resources.</p>

<p>We can create 1 Subnet where we put resources which are open for public like public <code class="language-plaintext highlighter-rouge">web apps</code>. Like <code class="language-plaintext highlighter-rouge">Sample Test Exams</code> which is exposed to public over internet. We can call this subnet as <code class="language-plaintext highlighter-rouge">subnet-public</code></p>

<p>Create another subnet where deploy resources which are only available to internal business users like <code class="language-plaintext highlighter-rouge">CORE CMS</code>. We can call this subnet as <code class="language-plaintext highlighter-rouge">subnet-internal</code></p>

<p>Create another subnet which should contain resources that we should keep private, secured from any users and restricted outside IP to access or connect. Those resources could be <code class="language-plaintext highlighter-rouge">azure storage, cosmos DB or other databases and azure key vaults etc.</code>. Therefore, we can create another subnet call it <code class="language-plaintext highlighter-rouge">subnet-private</code>.</p>

<p>Now, In order to secure <code class="language-plaintext highlighter-rouge">subnet-private</code> such that outside IP can not connect, we must deploy <code class="language-plaintext highlighter-rouge">NSG or application gateway</code> in <code class="language-plaintext highlighter-rouge">subnet-private</code> and configure such that only our <code class="language-plaintext highlighter-rouge">subnet-public</code> and <code class="language-plaintext highlighter-rouge">subnet-internal</code> resources can communicate to <code class="language-plaintext highlighter-rouge">subnet-private</code>.</p>

<h2 id="securing-azure-resources-using-3-tier-architecture">Securing Azure resources using 3 Tier Architecture</h2>

<p>We can also create classic 3-tier architecture in Azure where we create 3 subnets as listed below:
1- <strong>subnet-web</strong> ( private exposed to some public IP or internet)
2- <strong>subnet-business</strong> ( private )
3- <strong>subnet-data</strong> ( private )</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Subnet-Web</code> can only communicate with <code class="language-plaintext highlighter-rouge">Subnet-Business</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">Subnet-Business</code> can only communicate with <code class="language-plaintext highlighter-rouge">Subnet-Data</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">Subnet-Business</code> and S<code class="language-plaintext highlighter-rouge">ubnet-Data</code> are <em>never</em> exposed to any <em>public access</em>.</li>
</ul>

<p><img src="https://i.imgur.com/DMpA0o3.png" alt="" class="full" /></p>

<p>In <code class="language-plaintext highlighter-rouge">subnet-web</code> we deploy resources that can be exposed to internet. Such as <code class="language-plaintext highlighter-rouge">web apps</code>.
In <code class="language-plaintext highlighter-rouge">subnet-business</code>, we deploy resources where only <code class="language-plaintext highlighter-rouge">subnet-web</code> can connect to. Example: Function apps, where we write business logic and handlers.
In <code class="language-plaintext highlighter-rouge">subnet-data</code>, we deploy private resources such as <code class="language-plaintext highlighter-rouge">azure storage, cosmos DB or other databases and azure key vaults etc.</code> And only <code class="language-plaintext highlighter-rouge">subnet-business</code> can connect to these resources.</p>

<p>This way we can secure our private resources.</p>

<p>If in your Azure, your are putting all resources in single subnet or no subnet just VNet. And exposing to internet via filtering selected IP addresses. Still we are at risk since we exposed all resources over the internet via selected IP. You must think to protect Databases, Keyvaluts etc. and do not allow any public connection by any means.</p>

<h2 id="securing-azure-resources-using-azure-firewall">Securing Azure resources using Azure Firewall</h2>

<p><code class="language-plaintext highlighter-rouge">Azure Firewall</code> can filter all perimeter network. You can also put filter such that all the traffic towards your VNet should go through Firewall. If you have hybrid connection then on-premise traffic can also be diverted to go through Azure Firewall.</p>

<p><img src="https://i.imgur.com/pcZVspH.png" alt="" /></p>

<p>Your subnets within the Spoke VNet can be configured to use UDR (user defined routes). Where you can put the routing rules. Like <code class="language-plaintext highlighter-rouge">subnet-web</code> can not talk to <code class="language-plaintext highlighter-rouge">subnet-data</code> etc. Also we need to setup rules that traffic on subnets within spoke VNet should go out through <code class="language-plaintext highlighter-rouge">Azure Firewall</code> only.</p>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/hybrid-networking/">Connect an on-premise network to Azure</a></li>
  <li>https://docs.microsoft.com/en-us/azure/vpn-gateway/tutorial-site-to-site-portal</li>
  <li>https://docs.microsoft.com/en-us/azure/vpn-gateway/design</li>
</ul>

<hr />

<p><em>Thanks for reading my article till end. I hope you learned something special today. If you enjoyed this article then please share to your friends and if you have suggestions or thoughts to share with me then please write in the comment box.</em></p>

<div class="notice--success">
<strong>💖 Say 👋 to me!</strong>
<br />Rupesh Tiwari
<br />Founder of <a href="https://www.fullstackmaster.net">Fullstack Master </a>
<br />Email: <a href="mailto:rupesh.tiwari.info@gmail.com?subject=Hi">rupesh.tiwari.info@gmail.com</a>
<br />Website: <a href="https://www.rupeshtiwari.com">RupeshTiwari.com </a>
</div>
<p><img src="https://imgur.com/5fBatz9.png" alt="" /></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#azure" class="page__taxonomy-item" rel="tag">azure</a><span class="sep">, </span>
    
      <a href="/tags/#beginners" class="page__taxonomy-item" rel="tag">beginners</a><span class="sep">, </span>
    
      <a href="/tags/#tutorial" class="page__taxonomy-item" rel="tag">tutorial</a><span class="sep">, </span>
    
      <a href="/tags/#webdev" class="page__taxonomy-item" rel="tag">webdev</a>
    
    </span>
  </p>




        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-08-25T00:00:00+00:00">August 25, 2021</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=rupeshtiwari_co&text=Securing+and+Connecting+Azure+Resources+from+On-Premise+Machines%20https%3A%2F%2Fwww.rupeshtiwari.com%2Fconnect-azure-resources-from-on-premise-machines%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.rupeshtiwari.com%2Fconnect-azure-resources-from-on-premise-machines%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.rupeshtiwari.com%2Fconnect-azure-resources-from-on-premise-machines%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/azure-advisor-basics/" class="pagination--pager" title="Azure Advisor Basics
">Previous</a>
    
    
      <a href="/azure-cost-management-and-billing-basics/" class="pagination--pager" title="Azure Cost Management &amp; Billing Basics
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/8axKkdp.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/how-to-improve-reliability-in-the-cloud/" rel="permalink">How to improve Reliability in the cloud?
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Did you get a phone call from your customer saying they want to improve their application reliability while you move their workload to the cloud? If yes t...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/7tGRoEv.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cost-optimization-with-aws-spot-ec2-instances/" rel="permalink">Cost Optimization with Amazon EC2 Spot Instances
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          11 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Creating cost optimized highly scalable cloud architecture is challenging but it is possible! Using Spot Amazon Elastic Compute Cloud (Amazon EC2) instanc...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/WQWdzrb.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cloud-security-defense-in-depth-azure-approach/" rel="permalink">Cloud Security Defense In-Depth Azure Approach
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  In a traditional data center you create one perimeter, secure them by installing firewall, WAF, SIEMS etc. and have 100% confidence that the data center i...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/aPeeiUM.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/how-to-maintain-well-architected-framework-on-cloud/" rel="permalink">How to Maintain Well-Architected-Framework on Cloud
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How to make sure our workload in the cloud is secure, reliable. How to monitor the cost of your cloud resources consumption? Is there any automation you can ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <script data-ad-client="ca-pub-1700383344966810" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Disable Inspection Function -->
<script type="text/javascript">
  
</script>
<script>
    document.onkeydown = function (e) {
        if (event.keyCode == 123) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
            return false;
        }
    }
</script>
<div id='tawk_5eff6dee223d045fcb7b449a'></div>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function () {
        var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
        s1.async = true;
        s1.src = 'https://embed.tawk.to/5eff6dee223d045fcb7b449a/default';
        s1.charset = 'UTF-8';
        s1.setAttribute('crossorigin', '*');
        s0.parentNode.insertBefore(s1, s0);
    })();
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.2/mermaid.min.js"></script>
<script>
    mermaid.initialize({ startOnLoad: true });
</script>
<link rel="stylesheet" href="/assets/css/blog.css">
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://www.rupeshtiwari.com/posts" rel="nofollow noopener noreferrer"><i class="fas fa-registered" aria-hidden="true"></i> Blogs for Developers</a></li>
        
      
        
          <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://fullstackmaster.net/course/3/mastering-meanjs" rel="nofollow noopener noreferrer"><i class="fab fa-angular" aria-hidden="true"></i> Learn Angular</a></li>
        
      
        
          <li><a href="https://github.com/rupeshtiwari#javascript-for-beginners-client-side" rel="nofollow noopener noreferrer"><i class="fas fa-crown" aria-hidden="true"></i> Become Software Developer Free</a></li>
        
      
        
          <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i> Medium</a></li>
        
      
        
          <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i> Dev.to</a></li>
        
      
        
          <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i> Fullstack Master</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Rupesh Tiwari - Founder of Fullstack Master. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://www.rupeshtiwari.com/connect-azure-resources-from-on-premise-machines/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/connect-azure-resources-from-on-premise-machines"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://https-rupeshtiwari-github-io-1.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
