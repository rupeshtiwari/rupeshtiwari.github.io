<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Bulk Operations in Azure Cosmos DB using TransactionalBatch of .net SDK - Rupesh Tiwari - Founder of Fullstack Master</title>
<meta name="description" content="Learn how to combine multiple database operations in one transaction">


  <meta name="author" content="Rupesh Tiwari">
  
  <meta property="article:author" content="Rupesh Tiwari">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Rupesh Tiwari - Founder of Fullstack Master">
<meta property="og:title" content="Bulk Operations in Azure Cosmos DB using TransactionalBatch of .net SDK">
<meta property="og:url" content="https://www.rupeshtiwari.com/transactionalbatch-in-azure-cosmos-db-sdk/">


  <meta property="og:description" content="Learn how to combine multiple database operations in one transaction">



  <meta property="og:image" content="https://i.imgur.com/krOyDg2.png">



  <meta name="twitter:site" content="@rupeshtiwari_co">
  <meta name="twitter:title" content="Bulk Operations in Azure Cosmos DB using TransactionalBatch of .net SDK">
  <meta name="twitter:description" content="Learn how to combine multiple database operations in one transaction">
  <meta name="twitter:url" content="https://www.rupeshtiwari.com/transactionalbatch-in-azure-cosmos-db-sdk/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://i.imgur.com/krOyDg2.png">
  

  



  <meta property="article:published_time" content="2021-04-09T20:00:00-04:00">





  
    <meta property="article:publisher" content="https://www.facebook.com/fullstackmaster1">
  

  
    <meta property="fb:app_id" content="421181512329379">
  


<link rel="canonical" href="https://www.rupeshtiwari.com/transactionalbatch-in-azure-cosmos-db-sdk/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://www.rupeshtiwari.com/"
    
  }
</script>



  <meta name="msvalidate.01" content="8BC08291167B3E15CC4FCC21C5895052">




<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Rupesh Tiwari - Founder of Fullstack Master Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Rupesh Tiwari
          <span class="site-subtitle">Sr. Software Architect, Author & Trainer</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">blog</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">about</a>
            </li><li class="masthead__menu-item">
              <a href="https://youtube.com/fullstackmaster">youtube</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">tags</a>
            </li><li class="masthead__menu-item">
              <a href="/consulting/">consulting</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.fullstackmaster.net/pro">angular training</a>
            </li><li class="masthead__menu-item">
              <a href="https://fullstackmaster.net/login">sign in</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero"
  style=" background-image: url('');"
>
  
    <img src="https://i.imgur.com/99dc9TK.png" alt="Bulk Operations in Azure Cosmos DB using TransactionalBatch of .net SDK" class="page__hero-image">
  
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://www.rupeshtiwari.com/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Bulk Operations in Azure Cosmos DB using TransactionalBatch of .net SDK</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio-photo.jpg" alt="Rupesh Tiwari" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Rupesh Tiwari</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I help students and professionals to become Full Stack Software Developer in less than a year!</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="rupesh.tiwari.info@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="/posts/" rel="nofollow noopener noreferrer"><i class="fa fa-th-large" aria-hidden="true"></i><span class="label">Blogs</span></a></li>
          
        
          
            <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i><span class="label">Medium</span></a></li>
          
        
          
            <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i><span class="label">Dev.to</span></a></li>
          
        
          
            <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="http://twitter.com/rupeshtiwari_co" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
          
            <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i><span class="label">Angular Training</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Bulk Operations in Azure Cosmos DB using TransactionalBatch of .net SDK">
    <meta itemprop="description" content="  Are you using repository pattern? And want to commit multiple repository operations as a single logical transaction in Azure Cosmos DB? Read this article to learn how can you combine all of your operations as single unit of work using TransactionalBatch .net class.">
    <meta itemprop="datePublished" content="2021-04-09T20:00:00-04:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Bulk Operations in Azure Cosmos DB using TransactionalBatch of .net SDK
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#what-is-transaction">What is Transaction?</a></li><li><a href="#why-to-combine-operations-as-single-transaction">Why to Combine operations as Single Transaction?</a></li><li><a href="#cosmos-db-bulk-operation-demo-in-c">Cosmos Db Bulk Operation Demo in C#</a><ul><li><a href="#transactionalbatch-class-in-cosmos-db">TransactionalBatch Class in Cosmos DB</a></li><li><a href="#create-transactional-batch">Create Transactional Batch</a></li><li><a href="#defining-entities">Defining Entities</a></li><li><a href="#creating-multiple-entities-as-one-transaction-in-cosmos-db">Creating Multiple Entities as One Transaction in Cosmos DB</a></li><li><a href="#reading-results-of-batch-operation">Reading Results of Batch Operation</a></li><li><a href="#handling-error-after-batch-operation">Handling Error after Batch Operation</a></li><li><a href="#final-source-code-creating-multiple-entities-in-cosmos-db">Final Source Code Creating Multiple Entities in Cosmos DB</a></li></ul></li><li><a href="#patch-operations-in-cosmos-db-with-bulk-action">Patch Operations in Cosmos DB with Bulk Action</a><ul><li><a href="#patchoperation-class">PatchOperation Class</a></li><li><a href="#adding-dynamically-new-property-in-cosmos-db">Adding Dynamically new Property in Cosmos DB</a></li><li><a href="#replace-existing-property-of-item-in-cosmos-db">Replace existing Property of Item in Cosmos DB</a></li></ul></li><li><a href="#reading-multiple-entities-as-single-transaction">Reading multiple Entities as Single Transaction</a><ul><li><a href="#fetching-multiple-entities-example">Fetching Multiple entities example</a></li></ul></li><li><a href="#become-full-stack-developer-">Become full stack developer ðŸ’»</a></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p>Are you using <strong>repository pattern</strong>? And want to commit multiple repository operations as a <strong>single logical transaction in Azure Cosmos DB</strong>? Read this article to learn how can you combine all of your operations as single unit of work using <strong>TransactionalBatch</strong> .net class.</p>
</blockquote>

<h2 id="what-is-transaction">What is Transaction?</h2>

<p><strong>Transaction</strong> is the execution scope in the context of transaction processing. A transaction <strong>groups more than one database operations</strong> as a <strong>single commit</strong>. Therefore, you will notice single common outcome of your transaction. Either all operations passes or they all fail. They <strong>act as one</strong> thing. This is why <strong>atomicity</strong> is maintained.</p>

<h2 id="why-to-combine-operations-as-single-transaction">Why to Combine operations as Single Transaction?</h2>

<p>Imagine if you have repositories one for User and one for Address. And in a particular use case you want to update User Entity and Address Entity together. Suppose if Address update is failed you must fail User Entity update also. This is common use-case that every project needs that. In this article I will explain you how can you achieve this the bulk update in <strong>Cosmos Db</strong>.</p>

<p>Suppose you want to dynamically update some framework related database entity. Whenever some entity is updated. That time you can let repositories to just AddItem, DeleteItem or ReplaceItem or patchOperations. However, finally from the framework when you want to commit the transaction you have facility to add some other entities update and execute every thing together</p>

<h2 id="cosmos-db-bulk-operation-demo-in-c">Cosmos Db Bulk Operation Demo in C#</h2>

<p>In Cosmos Db Service, you can do <strong>bulk operations</strong> as a single transaction within a <strong>single container</strong> using <strong><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.cosmos.partitionkey?view=azure-dotnet">partitionkey</a></strong></p>

<h3 id="transactionalbatch-class-in-cosmos-db">TransactionalBatch Class in Cosmos DB</h3>

<p>Using <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.cosmos.transactionalbatch?view=azure-dotnet">TransactionalBatch</a> you can add <strong>multiple entity operations</strong>, batch them and perform operations across multiple entities (items) in the container. You must need a <strong>partition key</strong> to make it single transaction.</p>

<p>ðŸ’¡ Note: In order to keep multiple operations transactional you must be within a <strong>single container</strong> and having one <strong>partition key</strong>.</p>

<h3 id="create-transactional-batch">Create Transactional Batch</h3>

<p>You must first create a <code class="language-plaintext highlighter-rouge">TransactionalBatch</code> instance in a container by providing a <strong>partitionkey</strong>.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">string</span> <span class="n">businessType</span> <span class="p">=</span> <span class="s">"sales"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="n">TransactionalBatchResponse</span> <span class="n">batchResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">container</span><span class="p">.</span>
<span class="nf">CreateTransactionalBatch</span><span class="p">(</span>
    <span class="k">new</span> <span class="n">Cosmos</span><span class="p">.</span><span class="nf">PartitionKey</span><span class="p">(</span><span class="n">businessType</span><span class="p">)</span>
<span class="p">){}</span>
</code></pre></div></div>

<h3 id="defining-entities">Defining Entities</h3>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">User</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">number</span> <span class="n">age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Address</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">street</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">city</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="creating-multiple-entities-as-one-transaction-in-cosmos-db">Creating Multiple Entities as One Transaction in Cosmos DB</h3>

<p>Letâ€™s crate some entity that we want to save together using same partition key.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">string</span> <span class="n">businessType</span> <span class="p">=</span> <span class="s">"sales"</span><span class="p">;</span>

<span class="n">User</span> <span class="n">harry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">User</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">id</span> <span class="p">=</span> <span class="s">"user-1"</span><span class="p">,</span>
  <span class="n">name</span> <span class="p">=</span> <span class="s">"Harry"</span><span class="p">,</span>
  <span class="n">age</span> <span class="p">=</span> <span class="m">23</span>
<span class="p">};</span>

<span class="n">Address</span> <span class="n">singapore</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">id</span> <span class="p">=</span> <span class="s">"address-1"</span><span class="p">,</span>
  <span class="n">city</span> <span class="p">=</span> <span class="s">"singapore city"</span><span class="p">,</span>
  <span class="n">street</span> <span class="p">=</span> <span class="s">"singapore road"</span>
<span class="p">};</span>
</code></pre></div></div>

<p>Next we will create transaction batch and execute all operations asynchronously.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="p">(</span><span class="n">TransactionalBatchResponse</span> <span class="n">batchResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">container</span><span class="p">.</span><span class="nf">CreateTransactionalBatch</span><span class="p">(</span><span class="k">new</span> <span class="n">Cosmos</span><span class="p">.</span><span class="nf">PartitionKey</span><span class="p">(</span><span class="n">activityType</span><span class="p">))</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;(</span><span class="n">harry</span><span class="p">)</span>
     <span class="c1">// ðŸ‘† at this point user is not</span>
     <span class="c1">// created in cosmos db.</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;(</span><span class="n">singapore</span><span class="p">)</span>
    <span class="c1">// ðŸ‘† at this point address is not</span>
     <span class="c1">// created in cosmos db.</span>
    <span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">())</span> <span class="err">ðŸ‘ˆ</span>
    <span class="cm">/* once executeAsync is run all of
      the operations are committed to
      database as a one logical transation.
      Finally user and address is created.
    */</span>
<span class="p">{</span>
  <span class="c1">// Read outcome values from **batchResponse**</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="reading-results-of-batch-operation">Reading Results of Batch Operation</h3>

<p>Now you can read the outcome of bulk operation and retrieve each entity value from the <strong><code class="language-plaintext highlighter-rouge">batchResponse</code></strong>.</p>

<p><strong>Reading User after creating in Cosmos DB</strong></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="c1">// ðŸ‘‡ Success Path</span>
   <span class="c1">// Look up harry via typed access on operation results</span>
   <span class="n">TransactionalBatchOperationResult</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;</span> <span class="n">harryResult</span> <span class="p">=</span> <span class="n">batchResponse</span><span class="p">.</span><span class="n">GetOperationResultAtIndex</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;(</span><span class="m">0</span><span class="p">);</span>
   <span class="n">User</span> <span class="n">harry</span> <span class="p">=</span> <span class="n">harryResult</span><span class="p">.</span><span class="n">Resource</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>Reading Address after creating in Cosmos DB</strong></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="c1">// ðŸ‘‡ Success Path</span>
   <span class="c1">// Look up address via typed access on operation results</span>
   <span class="n">TransactionalBatchOperationResult</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;</span> <span class="n">addressResult</span> <span class="p">=</span> <span class="n">batchResponse</span><span class="p">.</span><span class="n">GetOperationResultAtIndex</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;(</span><span class="m">0</span><span class="p">);</span>
   <span class="n">Address</span> <span class="n">harryAddress</span> <span class="p">=</span> <span class="n">addressResult</span><span class="p">.</span><span class="n">Resource</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="handling-error-after-batch-operation">Handling Error after Batch Operation</h3>

<p>In case of a <strong>failure</strong>, entire operations are cancelled and not committed. You will get the individual results with some <strong>status code</strong> from <strong>batchResponse</strong>.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ðŸ‘‡ Check Errors</span>
 <span class="k">if</span> <span class="p">(!</span><span class="n">batchResponse</span><span class="p">.</span><span class="n">IsSuccessStatusCode</span><span class="p">)</span>
   <span class="p">{</span>
       <span class="c1">// Handle and log exception</span>
      <span class="n">TransactionalBatchOperationResult</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;</span> <span class="n">harryResult</span> <span class="p">=</span> <span class="n">batchResponse</span><span class="p">.</span><span class="n">GetOperationResultAtIndex</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;(</span><span class="m">0</span><span class="p">);</span>
      <span class="kt">var</span> <span class="n">statusCode</span> <span class="p">=</span> <span class="n">harryResult</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">;</span>
      <span class="c1">// status code = 409 or 424 etc.</span>
   <span class="p">}</span>
</code></pre></div></div>

<h3 id="final-source-code-creating-multiple-entities-in-cosmos-db">Final Source Code Creating Multiple Entities in Cosmos DB</h3>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">string</span> <span class="n">businessType</span> <span class="p">=</span> <span class="s">"sales"</span><span class="p">;</span>

<span class="n">User</span> <span class="n">harry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">User</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">id</span> <span class="p">=</span> <span class="s">"user-1"</span><span class="p">,</span>
  <span class="n">name</span> <span class="p">=</span> <span class="s">"Harry"</span><span class="p">,</span>
  <span class="n">age</span> <span class="p">=</span> <span class="m">23</span>
<span class="p">};</span>

<span class="n">Address</span> <span class="n">singapore</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">id</span> <span class="p">=</span> <span class="s">"address-1"</span><span class="p">,</span>
  <span class="n">city</span> <span class="p">=</span> <span class="s">"singapore city"</span><span class="p">,</span>
  <span class="n">street</span> <span class="p">=</span> <span class="s">"singapore road"</span>
<span class="p">};</span>

<span class="k">using</span> <span class="p">(</span><span class="n">TransactionalBatchResponse</span> <span class="n">batchResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">container</span><span class="p">.</span><span class="nf">CreateTransactionalBatch</span><span class="p">(</span><span class="k">new</span> <span class="n">Cosmos</span><span class="p">.</span><span class="nf">PartitionKey</span><span class="p">(</span><span class="n">activityType</span><span class="p">))</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;(</span><span class="n">harry</span><span class="p">)</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;(</span><span class="n">singapore</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">())</span> <span class="err">ðŸ‘ˆ</span>
    <span class="cm">/* once executeAsync is run all of
      the operations are committed to
      database as a one logical transation.
    */</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(!</span><span class="n">batchResponse</span><span class="p">.</span><span class="n">IsSuccessStatusCode</span><span class="p">)</span>
   <span class="p">{</span>
       <span class="c1">// Handle and log exception</span>
      <span class="n">TransactionalBatchOperationResult</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;</span> <span class="n">harryResult</span> <span class="p">=</span> <span class="n">batchResponse</span><span class="p">.</span><span class="n">GetOperationResultAtIndex</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;(</span><span class="m">0</span><span class="p">);</span>
      <span class="kt">var</span> <span class="n">statusCode</span> <span class="p">=</span> <span class="n">harryResult</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">;</span>
      <span class="c1">// status code = 409 or 424 etc.</span>
      <span class="k">return</span><span class="p">;</span>
   <span class="p">}</span>

  <span class="n">TransactionalBatchOperationResult</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;</span> <span class="n">addressResult</span> <span class="p">=</span> <span class="n">batchResponse</span><span class="p">.</span><span class="n">GetOperationResultAtIndex</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;(</span><span class="m">0</span><span class="p">);</span>
  <span class="n">Address</span> <span class="n">harryAddress</span> <span class="p">=</span> <span class="n">addressResult</span><span class="p">.</span><span class="n">Resource</span><span class="p">;</span>

  <span class="n">TransactionalBatchOperationResult</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;</span> <span class="n">addressResult</span> <span class="p">=</span> <span class="n">batchResponse</span><span class="p">.</span><span class="n">GetOperationResultAtIndex</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;(</span><span class="m">0</span><span class="p">);</span>
  <span class="n">Address</span> <span class="n">harryAddress</span> <span class="p">=</span> <span class="n">addressResult</span><span class="p">.</span><span class="n">Resource</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="patch-operations-in-cosmos-db-with-bulk-action">Patch Operations in Cosmos DB with Bulk Action</h2>

<p>You can also use <strong><code class="language-plaintext highlighter-rouge">PatchOperation</code></strong> class to update the property values of your entities as a bulk operation.</p>

<h3 id="patchoperation-class">PatchOperation Class</h3>

<p><strong><code class="language-plaintext highlighter-rouge">PatchOperation</code></strong> class enables you to either <strong>replace</strong> a property or <strong>add</strong> dynamically new <strong>property</strong> in an entity.</p>

<h3 id="adding-dynamically-new-property-in-cosmos-db">Adding Dynamically new Property in Cosmos DB</h3>

<p>I will demonstrate how you can crate <strong>zipCode</strong> property in the <strong>Address</strong> class after creating the Address entity in <strong>Cosmos Db</strong>. I will use <code class="language-plaintext highlighter-rouge">PatchOperation.Add</code> method.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">List</span><span class="p">&lt;</span><span class="n">PatchOperation</span><span class="p">&gt;</span> <span class="n">patchOperations</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">PatchOperation</span><span class="p">&gt;();</span>
<span class="n">patchOperations</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">PatchOperation</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"/zipCode"</span><span class="p">,</span> <span class="m">08452</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="n">TransactionalBatchResponse</span> <span class="n">batchResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">container</span><span class="p">.</span><span class="nf">CreateTransactionalBatch</span><span class="p">(</span><span class="k">new</span> <span class="n">Cosmos</span><span class="p">.</span><span class="nf">PartitionKey</span><span class="p">(</span><span class="n">activityType</span><span class="p">))</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;(</span><span class="n">harry</span><span class="p">)</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;(</span><span class="n">singapore</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">PatchItem</span><span class="p">(</span><span class="n">singapore</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="n">patchOperations</span><span class="p">)</span><span class="err">ðŸ‘ˆ</span>
     <span class="err">ðŸ‘†</span>
    <span class="cm">/* once executeAsync is run User and Address
    Will be created first then We will dynamically
    create zipCode property in the address object.
    */</span>
    <span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">())</span>
<span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="replace-existing-property-of-item-in-cosmos-db">Replace existing Property of Item in Cosmos DB</h3>

<p>Letâ€™s say I want to change the <code class="language-plaintext highlighter-rouge">age</code> of Harry after creating in <strong>cosmos db</strong>. I will use <code class="language-plaintext highlighter-rouge">PatchOperation.Replace</code> method.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">List</span><span class="p">&lt;</span><span class="n">PatchOperation</span><span class="p">&gt;</span> <span class="n">patchOperations</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">PatchOperation</span><span class="p">&gt;();</span>
<span class="n">patchOperations</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">PatchOperation</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">"/age"</span><span class="p">,</span> <span class="m">28</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="n">TransactionalBatchResponse</span> <span class="n">batchResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">container</span><span class="p">.</span><span class="nf">CreateTransactionalBatch</span><span class="p">(</span><span class="k">new</span> <span class="n">Cosmos</span><span class="p">.</span><span class="nf">PartitionKey</span><span class="p">(</span><span class="n">activityType</span><span class="p">))</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">User</span><span class="p">&gt;(</span><span class="n">harry</span><span class="p">)</span>
    <span class="p">.</span><span class="n">CreateItem</span><span class="p">&lt;</span><span class="n">Address</span><span class="p">&gt;(</span><span class="n">singapore</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">PatchItem</span><span class="p">(</span><span class="n">harry</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="n">patchOperations</span><span class="p">)</span><span class="err">ðŸ‘ˆ</span>
     <span class="err">ðŸ‘†</span>
    <span class="cm">/* once executeAsync is run User
    and Address will be created
    first then replace the age to 28
    */</span>
    <span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">())</span>
<span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="reading-multiple-entities-as-single-transaction">Reading multiple Entities as Single Transaction</h2>

<p>Sometime you wan to pull all entities from various items of <strong>cosmos database</strong> and show in a UI. Remember still you are within your <strong>partitionkey</strong>.</p>

<h3 id="fetching-multiple-entities-example">Fetching Multiple entities example</h3>

<p>In this below example I am pulling all of the 4 users together.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kt">string</span> <span class="n">activityType</span> <span class="p">=</span> <span class="s">"customers"</span><span class="p">;</span>
<span class="k">using</span> <span class="p">(</span><span class="n">TransactionalBatchResponse</span> <span class="n">batchResponse</span> <span class="p">=</span> <span class="k">await</span> <span class="n">container</span><span class="p">.</span><span class="nf">CreateTransactionalBatch</span><span class="p">(</span><span class="k">new</span> <span class="n">Cosmos</span><span class="p">.</span><span class="nf">PartitionKey</span><span class="p">(</span><span class="n">User</span><span class="p">))</span>
   <span class="p">.</span><span class="nf">ReadItem</span><span class="p">(</span><span class="s">"user-1"</span><span class="p">)</span>
   <span class="p">.</span><span class="nf">ReadItem</span><span class="p">(</span><span class="s">"user-2"</span><span class="p">)</span>
   <span class="p">.</span><span class="nf">ReadItem</span><span class="p">(</span><span class="s">"user-3"</span><span class="p">)</span>
   <span class="p">.</span><span class="nf">ReadItem</span><span class="p">(</span><span class="s">"user-4"</span><span class="p">)</span>
   <span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">())</span>
<span class="p">{</span>
    <span class="c1">// Look up interested results - eg. via direct access to operation result stream</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">resultItems</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="n">TransactionalBatchOperationResult</span> <span class="n">operationResult</span> <span class="k">in</span> <span class="n">batchResponse</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="n">StreamReader</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">operationResult</span><span class="p">.</span><span class="n">ResourceStream</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">resultItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">await</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEndAsync</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// **resultItems** will have all of the users</span>
<span class="p">}</span>

</code></pre></div></div>

<hr />

<p><em>If you enjoyed this article then please share to your friends and if you have suggestions or thoughts to share with me then please write in the comment box.</em></p>

<h2 id="become-full-stack-developer-">Become full stack developer ðŸ’»</h2>

<p>I teach at <a href="https://www.fullstackmaster.net">Fullstack Master</a>. If you want to become <strong>Software Developer</strong> and grow your carrier as new <strong>Software Engineer</strong> or <strong>Lead Developer/Architect</strong>. Consider subscribing to our full stack development training programs. You will learn <strong>Angular, RxJS, JavaScript, System Architecture</strong> and much more with lots of <strong>hands on coding</strong>. We have All-Access Monthly membership plans and you will get unlimited access to all of our <strong>video</strong> courses, <strong>slides</strong>, <strong>download source code</strong> &amp; <strong>Monthly video calls</strong>.</p>

<ul>
  <li>Please subscribe to <strong><a href="https://www.fullstackmaster.net/pro">All-Access Membership PRO plan</a></strong> to access <em>current</em> and <em>future</em> <strong>angular, node.js</strong> and related courses.</li>
  <li>Please subscribe to <strong><a href="https://www.fullstackmaster.net/elite">All-Access Membership ELITE plan</a></strong> to get everything from PRO plan. Additionally, you will get access to a monthly <strong>live Q&amp;A video call</strong> with <code class="language-plaintext highlighter-rouge">Rupesh</code> and you can ask <strong><em>doubts/questions</em></strong> and get more help, tips and tricks.</li>
</ul>

<blockquote>
  <p>Your bright future is awaiting for you so visit today <a href="www.fullstackmaster.net">FullstackMaster</a> and allow me to help you to board on your dream software company as a new <strong>Software Developer, Architect or Lead Engineer</strong> role.</p>
</blockquote>

<p><strong>ðŸ’– Say ðŸ‘‹ to me!</strong>
<br />Rupesh Tiwari
<br />Founder of <a href="https://www.fullstackmaster.net">Fullstack Master</a>
<br />Email: <a href="mailto:rupesh.tiwari.info@gmail.com?subject=Hi">rupesh.tiwari.info@gmail.com</a>
<br />Website: <a href="https://www.rupeshtiwari.com">www.rupeshtiwari.com</a> | <a href="https://www.fullstackmaster.net">www.fullstackmaster.net</a></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#azure" class="page__taxonomy-item" rel="tag">azure</a><span class="sep">, </span>
    
      <a href="/tags/#beginners" class="page__taxonomy-item" rel="tag">beginners</a><span class="sep">, </span>
    
      <a href="/tags/#cosmos" class="page__taxonomy-item" rel="tag">cosmos</a><span class="sep">, </span>
    
      <a href="/tags/#csharp" class="page__taxonomy-item" rel="tag">csharp</a>
    
    </span>
  </p>




        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-04-09T20:00:00-04:00">April 9, 2021</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=rupeshtiwari_co&text=Bulk+Operations+in+Azure+Cosmos+DB+using+TransactionalBatch+of+.net+SDK%20https%3A%2F%2Fwww.rupeshtiwari.com%2Ftransactionalbatch-in-azure-cosmos-db-sdk%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.rupeshtiwari.com%2Ftransactionalbatch-in-azure-cosmos-db-sdk%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.rupeshtiwari.com%2Ftransactionalbatch-in-azure-cosmos-db-sdk%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/isolated-process-models-for-workers/" class="pagination--pager" title="Isolated Process Models for Workers
">Previous</a>
    
    
      <a href="/creating-azure-cosmos-db-resources/" class="pagination--pager" title="Creating New Azure Cosmos DB resources in Visual Studio Code
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/zZYQYQA.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/azure-update-domain-vs-fault-domain/" rel="permalink">Azure Update Domain vs Fault Domain
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Do you know in Azure Data Center you can protect your server against regular server software maintenance outages? You can also protect your VMs on Azure a...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/qxXxmBa.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/roadmap-for-mastering-competitive-programming-for-beginners/" rel="permalink">Roadmap for mastering Coding &amp; Competitive Programming interview
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Are you non-computer background student? I am a Electronics Engineering student and have been in software company and worked more than 16 years from junio...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/qxXxmBa.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/how-to-start-preparing-for-coding-interview/" rel="permalink">How to start preparing for coding interview
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  When I started learning coding for a coding-interview for Facebook, Amazon or Google. I faced problems when I saw programmers were using terminologies lik...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/zZYQYQA.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/introduction-of-azure-data-center/" rel="permalink">Introduction of Azure Data Center
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Did you know how your servers are placed in Azure Data-Center? Do you understand how Azure Data Center protects your servers against software or hardware ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <script data-ad-client="ca-pub-1700383344966810" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Disable Inspection Function -->
<script type="text/javascript">
  
</script>
<script>
    document.onkeydown = function (e) {
        if (event.keyCode == 123) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
            return false;
        }
    }
</script>
<div id='tawk_5eff6dee223d045fcb7b449a'></div>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function () {
        var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
        s1.async = true;
        s1.src = 'https://embed.tawk.to/5eff6dee223d045fcb7b449a/default';
        s1.charset = 'UTF-8';
        s1.setAttribute('crossorigin', '*');
        s0.parentNode.insertBefore(s1, s0);
    })();
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.2/mermaid.min.js"></script>
<script>
    mermaid.initialize({ startOnLoad: true });
</script>
<link rel="stylesheet" href="/assets/css/blog.css">
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://www.rupeshtiwari.com/posts" rel="nofollow noopener noreferrer"><i class="fas fa-registered" aria-hidden="true"></i> Blogs for Developers</a></li>
        
      
        
          <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://fullstackmaster.net/course/3/mastering-meanjs" rel="nofollow noopener noreferrer"><i class="fab fa-angular" aria-hidden="true"></i> Learn Angular</a></li>
        
      
        
          <li><a href="https://github.com/rupeshtiwari#javascript-for-beginners-client-side" rel="nofollow noopener noreferrer"><i class="fas fa-crown" aria-hidden="true"></i> Become Software Developer Free</a></li>
        
      
        
          <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i> Medium</a></li>
        
      
        
          <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i> Dev.to</a></li>
        
      
        
          <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i> Fullstack Master</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Rupesh Tiwari - Founder of Fullstack Master. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://www.rupeshtiwari.com/transactionalbatch-in-azure-cosmos-db-sdk/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/transactionalbatch-in-azure-cosmos-db-sdk"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://https-rupeshtiwari-github-io-1.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
