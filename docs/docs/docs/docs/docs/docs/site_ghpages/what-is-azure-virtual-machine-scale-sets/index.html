<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>What is Azure Virtual Machine Scale Sets - Rupesh Tiwari - Founder of Fullstack Master</title>
<meta name="description" content="Now a days distributed architecture is common. We deploy our services into many different servers to scale them up and meet our demand. However, managing all servers for load-balancing, scaling, make application highly available is super challenging on cloud. Azure Virtual Machine Scale sets is the great tool which does all of these automatically with no extra cost for you. Lets learn more about Scale sets in this article.">


  <meta name="author" content="Rupesh Tiwari">
  
  <meta property="article:author" content="Rupesh Tiwari">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Rupesh Tiwari - Founder of Fullstack Master">
<meta property="og:title" content="What is Azure Virtual Machine Scale Sets">
<meta property="og:url" content="https://www.rupeshtiwari.com/what-is-azure-virtual-machine-scale-sets/">


  <meta property="og:description" content="Now a days distributed architecture is common. We deploy our services into many different servers to scale them up and meet our demand. However, managing all servers for load-balancing, scaling, make application highly available is super challenging on cloud. Azure Virtual Machine Scale sets is the great tool which does all of these automatically with no extra cost for you. Lets learn more about Scale sets in this article.">



  <meta property="og:image" content="https://i.imgur.com/zZYQYQA.png">



  <meta name="twitter:site" content="@rupeshtiwari_co">
  <meta name="twitter:title" content="What is Azure Virtual Machine Scale Sets">
  <meta name="twitter:description" content="Now a days distributed architecture is common. We deploy our services into many different servers to scale them up and meet our demand. However, managing all servers for load-balancing, scaling, make application highly available is super challenging on cloud. Azure Virtual Machine Scale sets is the great tool which does all of these automatically with no extra cost for you. Lets learn more about Scale sets in this article.">
  <meta name="twitter:url" content="https://www.rupeshtiwari.com/what-is-azure-virtual-machine-scale-sets/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://i.imgur.com/zZYQYQA.png">
  

  



  <meta property="article:published_time" content="2021-12-24T19:00:00-05:00">





  
    <meta property="article:publisher" content="https://www.facebook.com/fullstackmaster1">
  

  
    <meta property="fb:app_id" content="421181512329379">
  


<link rel="canonical" href="https://www.rupeshtiwari.com/what-is-azure-virtual-machine-scale-sets/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://www.rupeshtiwari.com/"
    
  }
</script>



  <meta name="msvalidate.01" content="8BC08291167B3E15CC4FCC21C5895052">




<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Rupesh Tiwari - Founder of Fullstack Master Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Rupesh Tiwari
          <span class="site-subtitle">Sr. Software Architect, Author & Trainer</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">blog</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">about</a>
            </li><li class="masthead__menu-item">
              <a href="https://youtube.com/fullstackmaster">youtube</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">tags</a>
            </li><li class="masthead__menu-item">
              <a href="/consulting/">consulting</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.fullstackmaster.net/pro">angular training</a>
            </li><li class="masthead__menu-item">
              <a href="https://fullstackmaster.net/login">sign in</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero"
  style=" background-image: url('');"
>
  
    <img src="https://i.imgur.com/3PR1wRa.png" alt="What is Azure Virtual Machine Scale Sets" class="page__hero-image">
  
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://www.rupeshtiwari.com/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">What is Azure Virtual Machine Scale Sets</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio-photo.jpg" alt="Rupesh Tiwari" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Rupesh Tiwari</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I help students and professionals to become Full Stack Software Developer in less than a year!</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="rupesh.tiwari.info@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="/posts/" rel="nofollow noopener noreferrer"><i class="fa fa-th-large" aria-hidden="true"></i><span class="label">Blogs</span></a></li>
          
        
          
            <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i><span class="label">Medium</span></a></li>
          
        
          
            <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i><span class="label">Dev.to</span></a></li>
          
        
          
            <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="http://twitter.com/rupeshtiwari_co" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
          
            <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i><span class="label">Angular Training</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="What is Azure Virtual Machine Scale Sets">
    <meta itemprop="description" content="  Now a days distributed architecture is common. We deploy our services into many different servers to scale them up and meet our demand. However, managing all servers for load-balancing, scaling, make application highly available is super challenging on cloud. Azure Virtual Machine Scale sets is the great tool which does all of these automatically with no extra cost for you. Lets learn more about Scale sets in this article.">
    <meta itemprop="datePublished" content="2021-12-24T19:00:00-05:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">What is Azure Virtual Machine Scale Sets
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#scalability-vs-elasticity">Scalability vs Elasticity</a></li><li><a href="#vertical-vs-horizontal-scaling">Vertical vs Horizontal Scaling</a><ul><li><a href="#vertical-scaling-or-scale-updown">Vertical Scaling or Scale Up/Down</a></li><li><a href="#horizontal-scaling-or-scale-outin">Horizontal Scaling or Scale Out/In</a></li></ul></li><li><a href="#distributed-architecture-with-scale-sets">Distributed Architecture with Scale Sets</a></li><li><a href="#what-is-azure-virtual-machine-scale-sets">What is Azure Virtual Machine Scale Sets?</a></li><li><a href="#how-virtual-machine-scale-set-vmss-works">How Virtual Machine Scale Set (VMSS) works</a><ul><li><a href="#minimum-instance">Minimum Instance</a></li><li><a href="#maximum-instance">Maximum Instance</a></li><li><a href="#metrics-based-scaling">Metrics Based Scaling</a></li><li><a href="#time-based-scaling">Time Based Scaling</a></li><li><a href="#load-balancer-in-scale-set">Load Balancer in Scale Set</a></li></ul></li><li><a href="#virtual-machine-scale-set-architecture">Virtual Machine Scale Set Architecture</a></li><li><a href="#why-use-virtual-machine-scale-sets">Why use Virtual Machine Scale Sets?</a><ul><li><a href="#scale-set-saves-money-">Scale set saves money 💰</a></li><li><a href="#benefits-of-scale-set">Benefits of Scale Set</a></li></ul></li><li><a href="#building-azure-vm-using-azure-vm-image-builder">Building Azure VM using Azure VM Image Builder</a></li><li><a href="#distribute-your-vm-images">Distribute your VM images</a></li><li><a href="#how-to-monitor-scale-sets">How to monitor scale sets</a></li><li><a href="#become-full-stack-developer-">Become full stack developer 💻</a></li></ul>

            </nav>
          </aside>
        
        <blockquote>
  <p>Now a days distributed architecture is common. We deploy our services into many different servers to scale them up and meet our demand. However, managing all servers for <strong>load-balancing, scaling, make application highly available</strong> is super challenging on cloud. <strong>Azure Virtual Machine Scale sets</strong> is the great tool which does all of these automatically with <strong>no extra cost</strong> for you. Lets learn more about Scale sets in this article.</p>
</blockquote>

<p>For Black Friday sell you want your services to be running in 50 instances and on regular day you want 5 instances. So in cloud Virtual machine scale set you get automatic scale up and down of your VM instances.</p>

<h2 id="scalability-vs-elasticity">Scalability vs Elasticity</h2>

<p>Scalability means to increase from 5 to 50 instances. Elasticity is to reduce 50 instances to 5. With VMSS scalability and elasticity is possible automatically.</p>

<h2 id="vertical-vs-horizontal-scaling">Vertical vs Horizontal Scaling</h2>

<p><img src="https://imgur.com/EkHkAX3.png" alt="" class="full" /></p>

<p>Two types of scaling vertical and horizontal.</p>

<h3 id="vertical-scaling-or-scale-updown">Vertical Scaling or Scale Up/Down</h3>

<p>In Vertical scaling if you have 1 core CPU and 4GB memory and if you can upgrade this configuration to 2 core CPU and 8 GB memory. This is called as Scale UP. You can reduce the configuration back to baseline which is called as Scale Down.</p>

<h3 id="horizontal-scaling-or-scale-outin">Horizontal Scaling or Scale Out/In</h3>

<p>Horizontal Scaling is you start with one VM and you keep adding more VM with same configuration is also called as Scale Out. You can also reduce back to 1 VM once your Sale or Business demand is over this process is called as Scale In.</p>

<h2 id="distributed-architecture-with-scale-sets">Distributed Architecture with Scale Sets</h2>

<p>You must need <strong>Distributed Architecture</strong> to provide <strong>redundancy and improved performance</strong>, applications are typically <strong>distributed across multiple instances</strong>. In order to give your customer faster speed and low latency you may need <strong>load balancer</strong> that <strong>distributes requests</strong> to one of the application <strong>instances</strong>.</p>

<h2 id="what-is-azure-virtual-machine-scale-sets">What is Azure Virtual Machine Scale Sets?</h2>

<p><img src="https://imgur.com/3qqKpF8.png" alt="" class="full" /></p>

<p>Virtual Machine Scale Set (VMSS) let you <strong>Create</strong> and <strong>Manage</strong> a <strong>group of load balanced VMs</strong>. The number of VM instances can <strong>automatically increase or decrease</strong> in response to demand or a defined schedule.</p>

<ul>
  <li>With virtual machine scale sets, you can build <strong>large-scale services for areas such as compute, big data, and container workloads</strong>.</li>
  <li>Scale sets provide <strong>high availability to your applications</strong>, and allow you to <strong>centrally manage</strong>, <strong>configure</strong>, and <strong>update</strong> a large number of VMs.</li>
  <li><strong>Consistent Configuration</strong>: Virtual Machine scale sets are the objects that are used to run multiple instances of your application and maintain a consistent configuration across your environment.</li>
</ul>

<p class="notice--info">VMs in a scale set are identical, so you can create them from the same base operating system image.</p>

<h2 id="how-virtual-machine-scale-set-vmss-works">How Virtual Machine Scale Set (VMSS) works</h2>

<p>VMSS uses <a href="#minimum-instance">minimum instance</a> to start with and you can set the <a href="#maximum-instance">maximum instance</a> of your virtual machine. You can setup rules based on <a href="#time-based-scaling">Time</a>, <a href="#metrics">Metrics</a> based to increase or decrease VM instances. VMSS has in build <a href="#load-balancer-in-scale-set">load balancers</a>. Public load balancer works with internet traffic to your VMs. Which looks upon the CPU metrics and if CPU utilization is more than 75% then wait for some time and add another VM instance without any manual steps required.</p>

<h3 id="minimum-instance">Minimum Instance</h3>

<p>This defines how much instance of VM minimum you need. You can set it to 1.</p>

<h3 id="maximum-instance">Maximum Instance</h3>

<p>You can go up to 1000 VM instances. For example for your business you can start with 1 VM and scale out up to 3 instances. Therefore, you set Maximum instance value to 3. Therefore, even though the demand is high Azure will not spin up 4th instance. It will stay up to 3 instance only and you save budget.</p>

<h3 id="metrics-based-scaling">Metrics Based Scaling</h3>

<p>If you don’t know where you are going to get the maximum business, it may be today, next day or any 5 continuous days then you must go for Metrics based scaling. You can set rule like If my VM CPU utilization is &gt; 75% then add one more VM if it is less than ( &lt; ) 25% then remove the VM.</p>

<p><strong>Manually increasing instances</strong>: If you know tomorrow only you want to increase your VM instance to 4 instances. So you do that manually and revert it on the day after tomorrow.</p>

<h3 id="time-based-scaling">Time Based Scaling</h3>

<p><strong>Custom</strong> : You can do <strong>Time Based</strong> increment or decrement Here you can schedule your VMs to scale out and scale in. For example every Saturday increase the VM instance to 4 and on Sunday reduce it back to 1. You can schedule these rules.</p>

<h3 id="load-balancer-in-scale-set">Load Balancer in Scale Set</h3>

<p><img src="https://imgur.com/8H6dwMy.png" alt="" class="full" /></p>

<p>An <strong>Azure load balancer</strong> is a Layer-4 (TCP, UDP) <strong>load balancer</strong> that provides high availability by distributing incoming traffic among healthy VMs. A <strong><a href="https://docs.microsoft.com/en-us/azure/load-balancer/components#frontend-ip-configurations">public load balancer</a></strong> can provide outbound connections for virtual machines (VMs) inside your virtual network. Public Load Balancers are used to load balance internet traffic to your VMs. An <strong><a href="https://docs.microsoft.com/en-us/azure/load-balancer/components#frontend-ip-configurations">internal (or private) load balancer</a></strong> is used where private IPs are needed at the frontend only. Internal load balancers are used to load balance traffic inside a virtual network.</p>

<h2 id="virtual-machine-scale-set-architecture">Virtual Machine Scale Set Architecture</h2>

<p>Virtual Machine Scale Set (VMSS) deploys Virtual Machines in a single subnet of a Virtual Network. Figure below shows Architecture of Virtual Machine Scale Set (VMSS) deployed in single subnet with Single Placement group.</p>

<p><img src="https://imgur.com/XUk0AFB.png" alt="" class="full" /></p>

<p><strong>Virtual Network</strong> with Single Subnet is automatically created during VMSS deployment. All virtual machines specified in create VMSS blade are deployed in the Single Subnet.</p>

<p><strong>Azure Load Balancer</strong> is automatically created during VMSS deployment.</p>

<p><strong>Placement group</strong> is availability set with five fault domains and five update domains and support up to 100 VMs. Placement group is automatically created by VMSS. Additional Placement groups will be automatically created by VMSS if you are deploying more than 100 instances.</p>

<p><strong>Storage</strong>: VMSS can use managed disks or unmanaged disks for Virtual Machine storage. Managed disks are required to create more than 100 Virtual Machines. Unmanaged disks are limited to 100 VMs and single Placement Group.</p>

<p><strong>VM Diagnostic Logs</strong> are guest OS performance counters and are streamed to Azure storage Account. VMSS uses this data for making Auto-scaling decisions.</p>

<h2 id="why-use-virtual-machine-scale-sets">Why use Virtual Machine Scale Sets?</h2>

<ul>
  <li><strong>Maintenance Mode Support</strong>: If you need to perform maintenance or update an application instance, your customers must be distributed to another available application instance.</li>
  <li><strong>Automatically increase VM instances</strong>: To keep up with additional customer demand, you may need to increase the number of application instances that run your application.
    <ul>
      <li>Auto scale based on metrics.</li>
      <li>Auto scale based on a defined schedule. Suppose starting next week you are going to have a heavy peak, for next 3 days. You can define a set schedule. For example, at 9 am on Jan 2nd 2021, increase the VM instance count to 50. And at 9PM on Jan 5th when your peak ends, bring the instance count back to your baseline configuration.</li>
    </ul>
  </li>
  <li><strong>Easy to create and manage multiple VMs</strong> : It maintains a consistent configuration (VM size, disk configuration) across your environment. All VM instances are created from the same base OS image and configuration. This approach lets you easily manage hundreds of VMs without additional configuration tasks or network management. For basic layer-4 traffic distribution it uses Azure Load Balancer. And for advanced layer-7 it uses Azure Application Gateway.</li>
  <li><strong>Provides high availability and application resiliency</strong>: If one of these VM instances has a problem, customers continue to access your application through one of the other VM instances with minimal interruption.</li>
  <li><strong>Allows your application to automatically scale as resource demand changes</strong>: Like it auto increase VM instances. It can also minimizes the number of unnecessary VM instances that run your application when demand is low, while customers continue to receive an acceptable level of performance</li>
  <li><strong>Works at large-scale</strong> : Up to <strong>1000</strong> Azure VM, and custom VM images up to <strong>600</strong> VM.</li>
</ul>

<h3 id="scale-set-saves-money-">Scale set saves money 💰</h3>

<p>The <strong>management</strong> and <strong>automation</strong> features, such as auto-scale and redundancy, incur <strong>no additional charges</strong> over the use of VMs. You only pay for the underlying compute resources such as the VM instances, load balancer, or Managed Disk storage.</p>

<h3 id="benefits-of-scale-set">Benefits of Scale Set</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">scenario</th>
      <th style="text-align: left">Manage VMs manually</th>
      <th style="text-align: right">Use VM Scale Set</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Adding extra VM</td>
      <td style="text-align: left">Manually create, configure and ensure compliance</td>
      <td style="text-align: right">Automatically create from central configuration</td>
    </tr>
    <tr>
      <td style="text-align: left">Traffic Balancing &amp; distribution</td>
      <td style="text-align: left">Manually</td>
      <td style="text-align: right">Automatically create and integrate Azure load balancer or Application Gateway</td>
    </tr>
    <tr>
      <td style="text-align: left">High availability and redundancy</td>
      <td style="text-align: left">Manually create Availability set or distribute and track VMs across Availability Zones</td>
      <td style="text-align: right">Automatic distribution of VM instances across Availability Zones or Availability Sets</td>
    </tr>
    <tr>
      <td style="text-align: left">Scaling of VMs</td>
      <td style="text-align: left">Manual monitoring and Azure Automation</td>
      <td style="text-align: right">Auto scale based on host metrics, in-guest metrics, Application Insights, or schedule</td>
    </tr>
  </tbody>
</table>

<p>Using scale set is a wiser decision with zero additional cost!</p>

<h2 id="building-azure-vm-using-azure-vm-image-builder">Building Azure VM using Azure VM Image Builder</h2>

<p><img src="https://imgur.com/Ut26mIt.png" alt="" class="full" /></p>

<p>Using <a href="https://docs.microsoft.com/azure/virtual-machines/linux/image-builder-overview">AZURE VM IMAGE BUILDER SERVICE</a>, you can quickly start building standardized images without needing to set up your own imaging pipeline. Just provide a simple configuration describing your image, submit it to the Image Builder service, and the image is built and distributed. You will incur some compute, networking and storage costs when creating, building and storing images with Azure Image Builder. These costs are similar to the costs incurred in manually creating custom images.</p>

<h2 id="distribute-your-vm-images">Distribute your VM images</h2>

<p><img src="https://imgur.com/2diOKki.png" alt="" class="full" /></p>

<p><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/shared-image-galleries">SHARED IMAGE GALLERY</a> enables image distribution to different users, service principals, or AD groups, across multiple subscriptions within your organization and regions through a centralized image management platform.</p>

<p>Run below command for creating shared image gallery:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">`</span><span class="n">New-AzGallery</span><span class="w"> </span><span class="nt">-GalleryName</span><span class="w"> </span><span class="err">“</span><span class="nx">azdemoGallery</span><span class="err">”</span><span class="w"> </span><span class="nt">-ResourceGroupName</span><span class="w"> </span><span class="err">“</span><span class="nx">Azure-demo</span><span class="err">”</span><span class="w"> </span><span class="nt">-Location</span><span class="w"> </span><span class="err">“</span><span class="nx">West</span><span class="w"> </span><span class="nx">US</span><span class="err">”</span><span class="se">`
</span></code></pre></div></div>

<p>Next, we need to create Gallery definition for storing windows images:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">New-AzGalleryImageDefinition</span><span class="w"> </span><span class="nt">-GalleryName</span><span class="w"> </span><span class="err">“</span><span class="nx">azdemogallery</span><span class="err">”</span><span class="w"> </span><span class="nt">-ResourceGroupName</span><span class="w"> </span><span class="err">“</span><span class="nx">Azure-demo</span><span class="err">”</span><span class="w"> </span><span class="nt">-location</span><span class="w"> </span><span class="err">“</span><span class="nx">West</span><span class="w"> </span><span class="nx">US</span><span class="err">”</span><span class="w"> </span><span class="nt">-Name</span><span class="w"> </span><span class="err">“</span><span class="nx">winserverimages</span><span class="err">”</span><span class="w"> </span><span class="nt">-OsState</span><span class="w"> </span><span class="nx">generalized</span><span class="w"> </span><span class="nt">-Ostype</span><span class="w"> </span><span class="nx">windows</span><span class="w"> </span><span class="nt">-Publisher</span><span class="w"> </span><span class="nx">demo</span><span class="w"> </span><span class="nt">-offer</span><span class="w"> </span><span class="nx">windows</span><span class="w"> </span><span class="nt">-sku</span><span class="w"> </span><span class="err">‘</span><span class="nx">win2016</span><span class="err">’</span><span class="w">
</span></code></pre></div></div>

<h2 id="how-to-monitor-scale-sets">How to monitor scale sets</h2>

<ul>
  <li>Use <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/vm/vminsights-overview">Azure Monitor for VMs</a>, to see metrics about VM CPU, memory, disk and network performance</li>
  <li>Enable monitoring <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/app/azure-vm-vmss-apps">virtual machine scale set application</a> with Application Insights to collect detailed information about your application including page views, application requests, and exceptions.</li>
  <li>Configure <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/app/monitor-web-app-availability">availability test</a> to check application availability to simulate user traffic.</li>
</ul>

<p class="notice--success">Learn more about <a href="https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/overview?context=/azure/virtual-machines/context/context">Azure Virtual Machine Scale Set</a></p>

<hr />

<p><em>Thanks for reading my article till end. I hope you learned something special today. If you enjoyed this article then please share to your friends and if you have suggestions or thoughts to share with me then please write in the comment box.</em></p>

<h2 id="become-full-stack-developer-">Become full stack developer 💻</h2>

<p class="notice--info">I teach at <a href="https://www.fullstackmaster.net">Fullstack Master</a>. If you want to become <strong>Software Developer</strong> and grow your carrier as new <strong>Software Engineer</strong> or <strong>Lead Developer/Architect</strong>. Consider subscribing to our full stack development training programs. You will learn <strong>Angular, RxJS, JavaScript, System Architecture</strong> and much more with lots of <strong>hands on coding</strong>. We have All-Access Monthly membership plans and you will get unlimited access to all of our <strong>video</strong> courses, <strong>slides</strong>, <strong>download source code</strong> &amp; <strong>Monthly video calls</strong>.</p>

<ul>
  <li>Please subscribe to <strong><a href="https://www.fullstackmaster.net/pro">All-Access Membership PRO plan</a></strong> to access <em>current</em> and <em>future</em> <strong>angular, node.js</strong> and related courses.</li>
  <li>Please subscribe to <strong><a href="https://www.fullstackmaster.net/elite">All-Access Membership ELITE plan</a></strong> to get everything from PRO plan. Additionally, you will get access to a monthly <strong>live Q&amp;A video call</strong> with <code class="language-plaintext highlighter-rouge">Rupesh</code> and you can ask <strong><em>doubts/questions</em></strong> and get more help, tips and tricks.</li>
</ul>

<p class="notice--warning">Your bright future is awaiting for you so visit today <a href="www.fullstackmaster.net">FullstackMaster</a> and allow me to help you to board on your dream software company as a new <strong>Software Developer, Architect or Lead Engineer</strong> role.</p>

<div class="notice--success">
<strong>💖 Say 👋 to me!</strong>
<br />Rupesh Tiwari
<br />Founder of <a href="https://www.fullstackmaster.net">Fullstack Master </a>
<br />Email: <a href="mailto:rupesh.tiwari.info@gmail.com?subject=Hi">rupesh.tiwari.info@gmail.com</a>
<br />Website: <a href="https://www.rupeshtiwari.com">RupeshTiwari.com </a>
</div>
<p><img src="https://imgur.com/5fBatz9.png" alt="" /></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#azure" class="page__taxonomy-item" rel="tag">azure</a><span class="sep">, </span>
    
      <a href="/tags/#beginners" class="page__taxonomy-item" rel="tag">beginners</a><span class="sep">, </span>
    
      <a href="/tags/#tutorial" class="page__taxonomy-item" rel="tag">tutorial</a><span class="sep">, </span>
    
      <a href="/tags/#webdev" class="page__taxonomy-item" rel="tag">webdev</a>
    
    </span>
  </p>




        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-12-24T19:00:00-05:00">December 24, 2021</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=rupeshtiwari_co&text=What+is+Azure+Virtual+Machine+Scale+Sets%20https%3A%2F%2Fwww.rupeshtiwari.com%2Fwhat-is-azure-virtual-machine-scale-sets%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.rupeshtiwari.com%2Fwhat-is-azure-virtual-machine-scale-sets%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.rupeshtiwari.com%2Fwhat-is-azure-virtual-machine-scale-sets%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/create-update-and-delete-tags-on-azure-resource/" class="pagination--pager" title="Create Update and Delete Tags on Azure Resource
">Previous</a>
    
    
      <a href="/introduction-to-azure-infrastructure-architecture/" class="pagination--pager" title="Introduction to Azure Infrastructure Architecture
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/zZYQYQA.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/server-deployment-strategies-and-storage-spaces-direct-fault-tolerence-in-azure/" rel="permalink">Server Deployment Strategies and Storage Spaces Direct Fault Tolerance in Azure
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Learn how Storage Spaces Direct provides you a Data fault tolerance at verity of levels. You don’t loose data at any stage. You get Data resiliency out of...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/zZYQYQA.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/introduction-to-azure-infrastructure-architecture/" rel="permalink">Introduction to Azure Infrastructure Architecture
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Understanding Azure architecture gives you power to learn lots of higher level concepts on Azure like Virtual Machine scale sets etc. Therefore, in this a...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/zZYQYQA.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/create-update-and-delete-tags-on-azure-resource/" rel="permalink">Create Update and Delete Tags on Azure Resource
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Learn more about how to use tags to organize your Azure resources and management hierarchy. Also learn the cmdlet used to fetch tags from Azure resources.


</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/7I0NoBe.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/site-recoverystrategy-in-azure/" rel="permalink">Site Recovery Strategy in Azure
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Learn the failover and failback stages in Site Recovery on Azure. Learn Business Continuity and Disaster Recovery (BCDR) strategy in Azure.


</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <script data-ad-client="ca-pub-1700383344966810" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Disable Inspection Function -->
<script type="text/javascript">
  
</script>
<script>
    document.onkeydown = function (e) {
        if (event.keyCode == 123) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
            return false;
        }
    }
</script>
<div id='tawk_5eff6dee223d045fcb7b449a'></div>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function () {
        var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
        s1.async = true;
        s1.src = 'https://embed.tawk.to/5eff6dee223d045fcb7b449a/default';
        s1.charset = 'UTF-8';
        s1.setAttribute('crossorigin', '*');
        s0.parentNode.insertBefore(s1, s0);
    })();
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.2/mermaid.min.js"></script>
<script>
    mermaid.initialize({ startOnLoad: true });
</script>
<link rel="stylesheet" href="/assets/css/blog.css">
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://www.rupeshtiwari.com/posts" rel="nofollow noopener noreferrer"><i class="fas fa-registered" aria-hidden="true"></i> Blogs for Developers</a></li>
        
      
        
          <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://fullstackmaster.net/course/3/mastering-meanjs" rel="nofollow noopener noreferrer"><i class="fab fa-angular" aria-hidden="true"></i> Learn Angular</a></li>
        
      
        
          <li><a href="https://github.com/rupeshtiwari#javascript-for-beginners-client-side" rel="nofollow noopener noreferrer"><i class="fas fa-crown" aria-hidden="true"></i> Become Software Developer Free</a></li>
        
      
        
          <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i> Medium</a></li>
        
      
        
          <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i> Dev.to</a></li>
        
      
        
          <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i> Fullstack Master</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Rupesh Tiwari - Founder of Fullstack Master. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://www.rupeshtiwari.com/what-is-azure-virtual-machine-scale-sets/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/what-is-azure-virtual-machine-scale-sets"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://https-rupeshtiwari-github-io-1.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
