<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Publishing Merged Code Coverage Report of Nx Workspace in Azure CI Pipeline - Rupesh Tiwari - Founder of Fullstack Master</title>
<meta name="description" content="Showing Nx Monorepo code coverage report in azure ci pipeline">


  <meta name="author" content="Rupesh Tiwari">
  
  <meta property="article:author" content="Rupesh Tiwari">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Rupesh Tiwari - Founder of Fullstack Master">
<meta property="og:title" content="Publishing Merged Code Coverage Report of Nx Workspace in Azure CI Pipeline">
<meta property="og:url" content="https://www.rupeshtiwari.com/devops/merge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline/">


  <meta property="og:description" content="Showing Nx Monorepo code coverage report in azure ci pipeline">



  <meta property="og:image" content="https://i.imgur.com/cqwnG3N.png">



  <meta name="twitter:site" content="@rupeshtiwari_co">
  <meta name="twitter:title" content="Publishing Merged Code Coverage Report of Nx Workspace in Azure CI Pipeline">
  <meta name="twitter:description" content="Showing Nx Monorepo code coverage report in azure ci pipeline">
  <meta name="twitter:url" content="https://www.rupeshtiwari.com/devops/merge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://i.imgur.com/cqwnG3N.png">
  

  



  <meta property="article:published_time" content="2021-02-01T18:55:00-05:00">



  <meta property="article:modified_time" content="2021-02-24T18:55:00-05:00">



  
    <meta property="article:publisher" content="https://www.facebook.com/fullstackmaster1">
  

  
    <meta property="fb:app_id" content="421181512329379">
  


<link rel="canonical" href="https://www.rupeshtiwari.com/devops/merge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://www.rupeshtiwari.com/"
    
  }
</script>



  <meta name="msvalidate.01" content="8BC08291167B3E15CC4FCC21C5895052">




<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Rupesh Tiwari - Founder of Fullstack Master Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Rupesh Tiwari
          <span class="site-subtitle">Sr. Software Architect, Author & Trainer</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">blog</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">about</a>
            </li><li class="masthead__menu-item">
              <a href="https://youtube.com/fullstackmaster">youtube</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">tags</a>
            </li><li class="masthead__menu-item">
              <a href="/consulting/">consulting</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.fullstackmaster.net/pro">angular training</a>
            </li><li class="masthead__menu-item">
              <a href="https://fullstackmaster.net/login">sign in</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero"
  style=" background-image: url('');"
>
  
    <img src="https://i.imgur.com/6gxkEV3.png" alt="Publishing Merged Code Coverage Report of Nx Workspace in Azure CI Pipeline" class="page__hero-image">
  
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://www.rupeshtiwari.com/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#devops" itemprop="item"><span itemprop="name">Devops</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Publishing Merged Code Coverage Report of Nx Workspace in Azure CI Pipeline</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio-photo.jpg" alt="Rupesh Tiwari" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Rupesh Tiwari</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I help students and professionals to become Full Stack Software Developer in less than a year!</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="rupesh.tiwari.info@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="/posts/" rel="nofollow noopener noreferrer"><i class="fa fa-th-large" aria-hidden="true"></i><span class="label">Blogs</span></a></li>
          
        
          
            <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i><span class="label">Medium</span></a></li>
          
        
          
            <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i><span class="label">Dev.to</span></a></li>
          
        
          
            <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="http://twitter.com/rupeshtiwari_co" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
          
            <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i><span class="label">Angular Training</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Publishing Merged Code Coverage Report of Nx Workspace in Azure CI Pipeline">
    <meta itemprop="description" content="If you are working on Nx Monorepo workspace and have manyangular projects. And if you are using Azure CI/CD Pipeline then you might awarethat there is no inbuilt azure task which will combine all of your code coveragexml. Therefore, the only workaround is you must consolidated all code coveragereports in one and publish that merged one only.What is Code Coverage Report in Azure CI Pipeline  Code coverage helps you determine the proportion of your project’s code thatis actually being tested by tests such as unit tests. To increase yourconfidence of the code changes, and guard effectively against bugsLearn More…Reviewing the code coverage result helps to identify code path(s) that are notcovered by the tests. This information is important to improve the testcollateral over time by reducing the test debt.You can see at file level in azure pipelineAzure devops does not merge multiple code coverage reportsAt present, the code coverage reporting functionality provided by this task islimited and it does not merge coverage data. If you provide multiple files asinput to the task, only the first match is considered. If you use multiplepublish code coverage tasks in the pipeline, the summary and report is shown forthe last task. Any previously uploaded data is ignored.Learn more…However, Azure Devops supports merging multiple test results and display out ofthe box. CheckPublish Test Results Nx Monorepo Angular Azure Pipelinesarticle to learn more.Installing Cobertura-merge npm packageAt this time Azure Pipeline only support showing code coverage usingCobertura or JaCoCo coverage formats only. I am using Cobertura in orderto publish code coverage.cobertura-merge is the npmpackage is a Utility to merge multiple cobertura xml files into one. I will usethis npm package to merge my all code-coverage files.In case cobertura-merge is failing to install or failing to run and you are in windows machine then run below script:npm --add-python-to-path=&#39;true&#39; --debug install --global windows-build-toolsInstalling Glob npm packageWe have nested code-coverage files so, I want to search all of the file path.Therefore, I am installingglob npm package to do that for me. Globnpm package: Matches files using the patterns the shell uses, like stars andstuff.Folder structure of multiple code coverage filesSince I have a Nrwl.Nx monorepo which has angular apps and libs. And when I runthe test using --codeCoverage=true then it creates thecobertura-coverage.xml files. Read [Publish Code Coverage Nx Monorepo Angularin Azure Pipelines] to learn how to publish code coverage to azure pipeline.Notice, I have coverage files from applications (apps) and libraries (libs)Finding all Coverage File pathsWe need to get the path of each cobertura-coverage.xml file.Lets create a merge-codecoverage.js JavaScript file to search all xml files wewill use glob npm package.const glob = require(&#39;glob&#39;);const path = require(&#39;path&#39;);const targetDir = path.resolve(__dirname, &#39;../../coverage&#39;);glob(targetDir + &#39;/**/*.xml&#39;, {}, (err, files) =&gt; {  console.log(files);});[  &quot;c:/Full Stack Master/Fullstackmaster COURSES/Mono Repo Course/temp/nx-monorepo-angular/coverage/apps/cutepuppies-admin/cobertura-coverage.xml&quot;,  &quot;c:/Full Stack Master/Fullstackmaster COURSES/Mono Repo Course/temp/nx-monorepo-angular/coverage/apps/cutepuppies-client/cobertura-coverage.xml&quot;,  &quot;c:/Full Stack Master/Fullstackmaster COURSES/Mono Repo Course/temp/nx-monorepo-angular/coverage/libs/branding/logger/cobertura-coverage.xml&quot;,]Debugging JavaScript in VS CodeRead this article to learnHow to debug Node.JS Code in VsCodeMove All Cobertura Coverage Xml to Merge FolderInstall fs-extra which will help us tocopy all of the coverage file in merge folder and then we will usercobertura-merge npm package tocrate single merged-cobertura-coverage.xml file.function copyCodeCoverageToMergedFolder() {  const coverageDir = path.resolve(__dirname, &#39;../../coverage&#39;);  const mergedDir = path.join(coverageDir, &#39;/merged&#39;);  const files = glob(coverageDir + &#39;/**/*.xml&#39;, { sync: true });  files.forEach((f, i) =&gt; {    const x = `${path.basename(f)}-${i}.xml`; // creating unique file name    fs.copySync(f, `${mergedDir}/${x}`);  });}Merging All Cobertura Coverage Xml to Single ReportWe will create merged-cobertura-coverage.xml which is combined of all of thereport files.In order to merge all of them we need below script.npx cobertura-merge -o merged-cobertura-coverage.xml package1=cobertura-coverage.xml-0.xml package2=cobertura-coverage.xml-1.xml package3=cobertura-coverage.xml-2.xmlRunning the cobertura-merge scriptMerged file created inside the merged folderMerged cobertura-coverage.xml fileHere is the JavaScript for merging code coverage files.function mergeCodeCoverage() {  const files = glob(mergedDir + &#39;/**/*.xml&#39;, { sync: true });  const packages = files    .map((f, i) =&gt; `package${i + 1}=${path.basename(f)}`)    .join(&#39; &#39;);  const script = `cobertura-merge -o merged-cobertura-coverage.xml ${packages}`;  execSync(script, {    stdio: [0, 1, 2],    cwd: mergedDir,  });}Updating Azure Pipeline to publish code coverageUse below task to publish merged code coverage report in azure pipeline.# Publish Code Coverage Results- task: PublishCodeCoverageResults@1  enabled: false  displayName: Code Coverage  inputs:    codeCoverageTool: &#39;Cobertura&#39;    summaryFileLocation: &#39;$(Build.SourcesDirectory)/coverage/merged/merged-cobertura-coverage.xml&#39;  condition: |    and(      succeeded(),      not(contains(          variables[&#39;COMMANDS&#39;],          &#39;&quot;test&quot;:[]&#39;      ))    )Identify How many projects are affectedI changed the logging.service.ts in branding service. Which is used by bothapps.Run nx affected:dep-graph --base=mainRunning azure pipeline for nx monorepoNow lets run the azure pipeline and see if we can see the 3 projects codecoverage is shown in merged fashion.See 3 tests are running in azure pipelinepublishing code coverage in azure pipeline Notice it published the code coverage report for all 3 projects.Excluding files from code coverageI want to exclude the src folder root files from code coverage. We dont want toshow test.ts or polyfills.ts coverage report.Go to workspace.json file and identify your project names and in the testconfiguration insert code coverage exclude file list like below screenshot.&quot;codeCoverageExclude&quot;: [          &quot;apps/cutepuppies-client/src/test.ts&quot;,          &quot;apps/cutepuppies-client/src/polyfills.ts&quot;        ],Now run nx run cutepuppies-client:test --codeCoverage=trueNow notice we do not have src folder files code coverage.Lets do this exclude for all of our project’s test configuration.Showing Project Names in Merged Code Coverage ReportNotice, I have code coverage from below projects.I want to show the project names in the Code Coverage Report of Azure pipeline.Therefore, we will update the JavaScript code to put correct project name percode coverage file in our merged code coverage xml file. Like Below:I need to generate &amp; run below cobertura merge script to create correct mergedcode coverage file with project names.npx cobertura-merge -o merged-cobertura-coverage.xml cutepuppies-admin=apps-cutepuppies-admin-cobertura-coverage.xml cutepuppies-client=apps-cutepuppies-client-cobertura-coverage.xml branding-logger=libs-branding-logger-cobertura-coverage.xml branding-ngmaterial=libs-branding-ngmaterial-cobertura-coverage.xml customers-users=libs-customers-users-cobertura-coverage.xml sales-puppies=libs-sales-puppies-cobertura-coverage.xml sales-puppy-editor=libs-sales-puppy-editor-cobertura-coverage.xmlChange the merge code coverage in JavaScriptfunction mergeCodeCoverage() {  copyCodeCoverageToMergedFolder();  const files = glob(mergedDir + &#39;/**/*.xml&#39;, { sync: true });  const packages = files    .map((f, i) =&gt; {      const fileName = path.basename(f);      const projectName = projects.filter((p) =&gt; fileName.search(p) &gt; -1).pop();      return `${projectName}=${fileName}`;    })    .join(&#39; &#39;);  const script = `npx cobertura-merge -o merged-cobertura-coverage.xml ${packages}`;  execSync(script, {    stdio: [0, 1, 2],    cwd: mergedDir,  });}function copyCodeCoverageToMergedFolder() {  fs.emptyDirSync(mergedDir);  const files = glob(coverageDir + &#39;/**/*.xml&#39;, { sync: true });  files.forEach((f, i) =&gt; {    const x = f.split(&#39;/coverage/&#39;)[1].replace(/\//g, &#39;-&#39;).split(&#39;/&#39;).pop();    fs.copySync(f, `${mergedDir}/${x}`);  });}Running Azure pipeline &amp; Showing Nx Monorepo All Projects Code CoverageNow you mustcall the above JavaScript from azure-pipelines.yml file.🏃 Run your pipeline💯 Showing Code Coverage percentages:hugging_face: Notice now we see our code coverage per application and thecorrect file names.Become full stack developer 💻If you want to become full stack developer and grow your carrier as new softwaredeveloper or Lead Developer/Architect. Consider subscribing to our full stackdevelopment training programs. We have All-Access Monthly membership plans andyou will get unlimited access to all of our video courses, slides, source code &amp;Monthly video calls.  Please subscribe toAll-Access Membership PRO plan toaccess current and future angular, node.js and related courses.  Please subscribe toAll-Access Membership ELITE plan toget everything from PRO plan. Additionally, you will get access to monthlylive Q&amp;A video call with Rupesh and you can ask doubts/questions and get morehelp, tips and tricks.  Your bright future is awaiting for you so visit todayFullstackMaster and allow me to help you to boardon your dream software company as a Developer,Architect or Lead Engineer role.💖 Say 👋 to me! Rupesh Tiwari  www.rupeshtiwari.com ✉️  Email Rupesh Founder of  Fullstack Master">
    <meta itemprop="datePublished" content="2021-02-01T18:55:00-05:00">
    <meta itemprop="dateModified" content="2021-02-24T18:55:00-05:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Publishing Merged Code Coverage Report of Nx Workspace in Azure CI Pipeline
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#what-is-code-coverage-report-in-azure-ci-pipeline">What is Code Coverage Report in Azure CI Pipeline</a></li><li><a href="#azure-devops-does-not-merge-multiple-code-coverage-reports">Azure devops does not merge multiple code coverage reports</a></li><li><a href="#installing-cobertura-merge-npm-package">Installing Cobertura-merge npm package</a></li><li><a href="#installing-glob-npm-package">Installing Glob npm package</a></li><li><a href="#folder-structure-of-multiple-code-coverage-files">Folder structure of multiple code coverage files</a></li><li><a href="#finding-all-coverage-file-paths">Finding all Coverage File paths</a></li><li><a href="#debugging-javascript-in-vs-code">Debugging JavaScript in VS Code</a></li><li><a href="#move-all-cobertura-coverage-xml-to-merge-folder">Move All Cobertura Coverage Xml to Merge Folder</a></li><li><a href="#merging-all-cobertura-coverage-xml-to-single-report">Merging All Cobertura Coverage Xml to Single Report</a></li><li><a href="#updating-azure-pipeline-to-publish-code-coverage">Updating Azure Pipeline to publish code coverage</a></li><li><a href="#identify-how-many-projects-are-affected">Identify How many projects are affected</a></li><li><a href="#running-azure-pipeline-for-nx-monorepo">Running azure pipeline for nx monorepo</a></li><li><a href="#excluding-files-from-code-coverage">Excluding files from code coverage</a></li><li><a href="#showing-project-names-in-merged-code-coverage-report">Showing Project Names in Merged Code Coverage Report</a></li><li><a href="#running-azure-pipeline--showing-nx-monorepo-all-projects-code-coverage">Running Azure pipeline &amp; Showing Nx Monorepo All Projects Code Coverage</a></li><li><a href="#become-full-stack-developer-">Become full stack developer 💻</a></li></ul>

            </nav>
          </aside>
        
        <p>If you are working on <a href="https://nx.dev/">Nx Monorepo</a> workspace and have many
angular projects. And if you are using Azure CI/CD Pipeline then you might aware
that there is no inbuilt azure task which will combine all of your code coverage
xml. Therefore, the only workaround is you must consolidated all code coverage
reports in one and publish that merged one only.</p>

<h2 id="what-is-code-coverage-report-in-azure-ci-pipeline">What is Code Coverage Report in Azure CI Pipeline</h2>

<blockquote>
  <p>Code coverage helps you determine the proportion of your project’s code that
is actually being tested by tests such as unit tests. To increase your
confidence of the code changes, and guard effectively against bugs
<a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/test/review-code-coverage-results?view=azure-devops">Learn More…</a></p>
</blockquote>

<p>Reviewing the code coverage result helps to identify code path(s) that are not
covered by the tests. This information is important to improve the test
collateral over time by reducing the test debt.</p>

<p><img src="https://i.imgur.com/LlgbXvN.png" alt="" /></p>

<p>You can see at file level in azure pipeline</p>

<p><img src="https://i.imgur.com/7FuBO8Z.png" alt="" /></p>

<h2 id="azure-devops-does-not-merge-multiple-code-coverage-reports">Azure devops does not merge multiple code coverage reports</h2>

<p><img src="https://i.imgur.com/nrjxLDu.png" alt="" /></p>

<p>At present, the code coverage reporting functionality provided by this task is
limited and it does not merge coverage data. If you provide multiple files as
input to the task, only the first match is considered. If you use multiple
publish code coverage tasks in the pipeline, the summary and report is shown for
the last task. Any previously uploaded data is ignored.
<a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/test/publish-code-coverage-results?view=azure-devops">Learn more…</a></p>

<p>However, Azure Devops supports merging multiple test results and display out of
the box. Check
<a href="https://hackmd.io/ChTI9iFXQXGdlQAWrcqrKA">Publish Test Results Nx Monorepo Angular Azure Pipelines</a>
article to learn more.</p>

<p><img src="https://i.imgur.com/oEUkpIZ.png" alt="" /></p>

<h2 id="installing-cobertura-merge-npm-package">Installing Cobertura-merge npm package</h2>

<p>At this time Azure Pipeline only support showing code coverage using
<strong>Cobertura</strong> or <strong>JaCoCo</strong> coverage formats only. I am using Cobertura in order
to publish code coverage.</p>

<p><a href="https://www.npmjs.com/package/cobertura-merge">cobertura-merge</a> is the npm
package is a Utility to merge multiple cobertura xml files into one. I will use
this npm package to merge my all code-coverage files.</p>

<p><img src="https://i.imgur.com/Huz8YLq.png" alt="" /></p>

<p>In case <strong>cobertura-merge</strong> is failing to install or failing to run and you are in windows machine then run below script:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm --add-python-to-path='true' --debug install --global windows-build-tools
</code></pre></div></div>

<h2 id="installing-glob-npm-package">Installing Glob npm package</h2>

<p>We have nested code-coverage files so, I want to search all of the file path.
Therefore, I am installing
<a href="https://www.npmjs.com/package/glob">glob npm package</a> to do that for me. Glob
npm package: Matches files using the patterns the shell uses, like stars and
stuff.</p>

<p><img src="https://i.imgur.com/I9fjMZK.png" alt="" /></p>

<h2 id="folder-structure-of-multiple-code-coverage-files">Folder structure of multiple code coverage files</h2>

<p>Since I have a Nrwl.Nx monorepo which has angular apps and libs. And when I run
the test using <code class="language-plaintext highlighter-rouge">--codeCoverage=true</code> then it creates the
<code class="language-plaintext highlighter-rouge">cobertura-coverage.xml</code> files. Read [Publish Code Coverage Nx Monorepo Angular
in Azure Pipelines] to learn how to publish code coverage to azure pipeline.</p>

<p>Notice, I have coverage files from applications (apps) and libraries (libs)</p>

<p><img src="https://i.imgur.com/FaaC9hS.png" alt="" /></p>

<h2 id="finding-all-coverage-file-paths">Finding all Coverage File paths</h2>

<p>We need to get the path of each <code class="language-plaintext highlighter-rouge">cobertura-coverage.xml</code> file.</p>

<p>Lets create a <code class="language-plaintext highlighter-rouge">merge-codecoverage.js</code> JavaScript file to search all xml files we
will use <code class="language-plaintext highlighter-rouge">glob</code> npm package.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">glob</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">glob</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">targetDir</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">../../coverage</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">glob</span><span class="p">(</span><span class="nx">targetDir</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/**/*.xml</span><span class="dl">'</span><span class="p">,</span> <span class="p">{},</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">files</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">files</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p><img src="https://i.imgur.com/HTtZNTz.png" alt="" /></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>
  <span class="s2">"c:/Full Stack Master/Fullstackmaster COURSES/Mono Repo Course/temp/nx-monorepo-angular/coverage/apps/cutepuppies-admin/cobertura-coverage.xml"</span>,
  <span class="s2">"c:/Full Stack Master/Fullstackmaster COURSES/Mono Repo Course/temp/nx-monorepo-angular/coverage/apps/cutepuppies-client/cobertura-coverage.xml"</span>,
  <span class="s2">"c:/Full Stack Master/Fullstackmaster COURSES/Mono Repo Course/temp/nx-monorepo-angular/coverage/libs/branding/logger/cobertura-coverage.xml"</span>,
<span class="o">]</span>
</code></pre></div></div>

<h2 id="debugging-javascript-in-vs-code">Debugging JavaScript in VS Code</h2>

<p>Read this article to learn
<a href="https://hackmd.io/2OykEQiaR6aOEGv9eEHDnA">How to debug Node.JS Code in VsCode</a></p>

<h2 id="move-all-cobertura-coverage-xml-to-merge-folder">Move All Cobertura Coverage Xml to Merge Folder</h2>

<p>Install <a href="https://www.npmjs.com/package/fs-extra">fs-extra</a> which will help us to
copy all of the coverage file in <code class="language-plaintext highlighter-rouge">merge</code> folder and then we will user
<a href="https://www.npmjs.com/package/cobertura-merge">cobertura-merge</a> npm package to
crate single <code class="language-plaintext highlighter-rouge">merged-cobertura-coverage.xml</code> file.
<img src="https://i.imgur.com/XYWAJIf.png" alt="" /></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">copyCodeCoverageToMergedFolder</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">coverageDir</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">../../coverage</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">mergedDir</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">coverageDir</span><span class="p">,</span> <span class="dl">'</span><span class="s1">/merged</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">files</span> <span class="o">=</span> <span class="nx">glob</span><span class="p">(</span><span class="nx">coverageDir</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/**/*.xml</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">sync</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

  <span class="nx">files</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">f</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">path</span><span class="p">.</span><span class="nx">basename</span><span class="p">(</span><span class="nx">f</span><span class="p">)}</span><span class="s2">-</span><span class="p">${</span><span class="nx">i</span><span class="p">}</span><span class="s2">.xml`</span><span class="p">;</span> <span class="c1">// creating unique file name</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">copySync</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="s2">`</span><span class="p">${</span><span class="nx">mergedDir</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">x</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://i.imgur.com/xCyymoJ.png" alt="" /></p>

<h2 id="merging-all-cobertura-coverage-xml-to-single-report">Merging All Cobertura Coverage Xml to Single Report</h2>

<p>We will create <code class="language-plaintext highlighter-rouge">merged-cobertura-coverage.xml</code> which is combined of all of the
report files.</p>

<p>In order to merge all of them we need below script.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx cobertura-merge <span class="nt">-o</span> merged-cobertura-coverage.xml <span class="nv">package1</span><span class="o">=</span>cobertura-coverage.xml-0.xml <span class="nv">package2</span><span class="o">=</span>cobertura-coverage.xml-1.xml <span class="nv">package3</span><span class="o">=</span>cobertura-coverage.xml-2.xml
</code></pre></div></div>

<p>Running the cobertura-merge script</p>

<p><img src="https://i.imgur.com/dbWBJuM.png" alt="" /></p>

<p>Merged file created inside the merged folder</p>

<p><img src="https://i.imgur.com/6ZfMhQw.png" alt="" /></p>

<p>Merged cobertura-coverage.xml file</p>

<p><img src="https://i.imgur.com/F8zDEc4.png" alt="" /></p>

<p>Here is the JavaScript for merging code coverage files.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">mergeCodeCoverage</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">files</span> <span class="o">=</span> <span class="nx">glob</span><span class="p">(</span><span class="nx">mergedDir</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/**/*.xml</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">sync</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">packages</span> <span class="o">=</span> <span class="nx">files</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">f</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s2">`package</span><span class="p">${</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span><span class="s2">=</span><span class="p">${</span><span class="nx">path</span><span class="p">.</span><span class="nx">basename</span><span class="p">(</span><span class="nx">f</span><span class="p">)}</span><span class="s2">`</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">script</span> <span class="o">=</span> <span class="s2">`cobertura-merge -o merged-cobertura-coverage.xml </span><span class="p">${</span><span class="nx">packages</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

  <span class="nx">execSync</span><span class="p">(</span><span class="nx">script</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">stdio</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="na">cwd</span><span class="p">:</span> <span class="nx">mergedDir</span><span class="p">,</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="updating-azure-pipeline-to-publish-code-coverage">Updating Azure Pipeline to publish code coverage</h2>

<p>Use below task to publish merged code coverage report in azure pipeline.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Publish Code Coverage Results</span>
<span class="pi">-</span> <span class="na">task</span><span class="pi">:</span> <span class="s">PublishCodeCoverageResults@1</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">displayName</span><span class="pi">:</span> <span class="s">Code Coverage</span>
  <span class="na">inputs</span><span class="pi">:</span>
    <span class="na">codeCoverageTool</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Cobertura'</span>
    <span class="na">summaryFileLocation</span><span class="pi">:</span> <span class="s1">'</span><span class="s">$(Build.SourcesDirectory)/coverage/merged/merged-cobertura-coverage.xml'</span>
  <span class="na">condition</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">and(</span>
      <span class="s">succeeded(),</span>
      <span class="s">not(contains(</span>
          <span class="s">variables['COMMANDS'],</span>
          <span class="s">'"test":[]'</span>
      <span class="s">))</span>
    <span class="s">)</span>
</code></pre></div></div>

<h2 id="identify-how-many-projects-are-affected">Identify How many projects are affected</h2>

<p>I changed the logging.service.ts in branding service. Which is used by both
apps.</p>

<p>Run <code class="language-plaintext highlighter-rouge">nx affected:dep-graph --base=main</code></p>

<p><img src="https://i.imgur.com/X6P4NiW.png" alt="" /></p>

<h2 id="running-azure-pipeline-for-nx-monorepo">Running azure pipeline for nx monorepo</h2>

<p>Now lets run the azure pipeline and see if we can see the 3 projects code
coverage is shown in merged fashion.</p>

<p>See 3 tests are running in azure pipeline</p>

<p><img src="https://i.imgur.com/quNbF0h.png" alt="" /></p>

<p>publishing code coverage in azure pipeline <img src="https://i.imgur.com/kAyhXao.png" alt="" /></p>

<p>Notice it published the code coverage report for all 3 projects.</p>

<p><img src="https://i.imgur.com/KaGBGjL.png" alt="" /></p>

<h2 id="excluding-files-from-code-coverage">Excluding files from code coverage</h2>

<p>I want to exclude the src folder root files from code coverage. We dont want to
show <code class="language-plaintext highlighter-rouge">test.ts</code> or <code class="language-plaintext highlighter-rouge">polyfills.ts</code> coverage report.</p>

<p><img src="https://i.imgur.com/7AAnzIh.png" alt="" /></p>

<p>Go to <code class="language-plaintext highlighter-rouge">workspace.json</code> file and identify your project names and in the <code class="language-plaintext highlighter-rouge">test</code>
configuration insert code coverage exclude file list like below screenshot.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"codeCoverageExclude"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"apps/cutepuppies-client/src/test.ts"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"apps/cutepuppies-client/src/polyfills.ts"</span><span class="w">
        </span><span class="p">]</span><span class="err">,</span><span class="w">
</span></code></pre></div></div>

<p><img src="https://i.imgur.com/JGmLJ1s.png" alt="" /></p>

<p>Now run <code class="language-plaintext highlighter-rouge">nx run cutepuppies-client:test --codeCoverage=true</code></p>

<p>Now notice we do not have <code class="language-plaintext highlighter-rouge">src</code> folder files code coverage.</p>

<p><img src="https://i.imgur.com/6zHAjd0.png" alt="" /></p>

<p>Lets do this exclude for all of our project’s test configuration.</p>

<h2 id="showing-project-names-in-merged-code-coverage-report">Showing Project Names in Merged Code Coverage Report</h2>

<p>Notice, I have code coverage from below projects.</p>

<p><img src="https://i.imgur.com/OTTjEXI.png" alt="" /></p>

<p>I want to show the project names in the Code Coverage Report of Azure pipeline.
Therefore, we will update the JavaScript code to put correct project name per
code coverage file in our merged code coverage xml file. Like Below:</p>

<p><img src="https://i.imgur.com/3fSOEx6.png" alt="" /></p>

<p>I need to generate &amp; run below <code class="language-plaintext highlighter-rouge">cobertura merge</code> script to create correct merged
code coverage file with project names.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx cobertura-merge <span class="nt">-o</span> merged-cobertura-coverage.xml cutepuppies-admin<span class="o">=</span>apps-cutepuppies-admin-cobertura-coverage.xml cutepuppies-client<span class="o">=</span>apps-cutepuppies-client-cobertura-coverage.xml branding-logger<span class="o">=</span>libs-branding-logger-cobertura-coverage.xml branding-ngmaterial<span class="o">=</span>libs-branding-ngmaterial-cobertura-coverage.xml customers-users<span class="o">=</span>libs-customers-users-cobertura-coverage.xml sales-puppies<span class="o">=</span>libs-sales-puppies-cobertura-coverage.xml sales-puppy-editor<span class="o">=</span>libs-sales-puppy-editor-cobertura-coverage.xml
</code></pre></div></div>

<p>Change the merge code coverage in JavaScript</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">mergeCodeCoverage</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">copyCodeCoverageToMergedFolder</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">files</span> <span class="o">=</span> <span class="nx">glob</span><span class="p">(</span><span class="nx">mergedDir</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/**/*.xml</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">sync</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">packages</span> <span class="o">=</span> <span class="nx">files</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">f</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">fileName</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">basename</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">projectName</span> <span class="o">=</span> <span class="nx">projects</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">p</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">fileName</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">).</span><span class="nx">pop</span><span class="p">();</span>

      <span class="k">return</span> <span class="s2">`</span><span class="p">${</span><span class="nx">projectName</span><span class="p">}</span><span class="s2">=</span><span class="p">${</span><span class="nx">fileName</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">script</span> <span class="o">=</span> <span class="s2">`npx cobertura-merge -o merged-cobertura-coverage.xml </span><span class="p">${</span><span class="nx">packages</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

  <span class="nx">execSync</span><span class="p">(</span><span class="nx">script</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">stdio</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="na">cwd</span><span class="p">:</span> <span class="nx">mergedDir</span><span class="p">,</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">copyCodeCoverageToMergedFolder</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">fs</span><span class="p">.</span><span class="nx">emptyDirSync</span><span class="p">(</span><span class="nx">mergedDir</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">files</span> <span class="o">=</span> <span class="nx">glob</span><span class="p">(</span><span class="nx">coverageDir</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/**/*.xml</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">sync</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

  <span class="nx">files</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">f</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">/coverage/</span><span class="dl">'</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\/</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">).</span><span class="nx">pop</span><span class="p">();</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">copySync</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="s2">`</span><span class="p">${</span><span class="nx">mergedDir</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">x</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="running-azure-pipeline--showing-nx-monorepo-all-projects-code-coverage">Running Azure pipeline &amp; Showing Nx Monorepo All Projects Code Coverage</h2>

<p>Now you must
<a href="https://hackmd.io/QiDKOk2RTKee1Y822ceSYA">call the above JavaScript from <code class="language-plaintext highlighter-rouge">azure-pipelines.yml</code> file</a>.</p>

<p>🏃 Run your pipeline</p>

<p><img src="https://i.imgur.com/5TKEEo0.png" alt="" /></p>

<p>💯 Showing Code Coverage percentages</p>

<p><img src="https://i.imgur.com/pr8leAN.png" alt="" /></p>

<p>:hugging_face: Notice now we see our code coverage per application and the
correct file names.</p>

<p><img src="https://i.imgur.com/I2ldTr2.png" alt="" /></p>

<h2 id="become-full-stack-developer-">Become full stack developer 💻</h2>

<p>If you want to become full stack developer and grow your carrier as new software
developer or Lead Developer/Architect. Consider subscribing to our full stack
development training programs. We have All-Access Monthly membership plans and
you will get unlimited access to all of our video courses, slides, source code &amp;
Monthly video calls.</p>

<ul>
  <li>Please subscribe to
<a href="https://www.fullstackmaster.net/pro">All-Access Membership PRO plan</a> to
access current and future angular, node.js and related courses.</li>
  <li>Please subscribe to
<a href="https://www.fullstackmaster.net/elite">All-Access Membership ELITE plan</a> to
get everything from PRO plan. Additionally, you will get access to monthly
live Q&amp;A video call with Rupesh and you can ask doubts/questions and get more
help, tips and tricks.</li>
</ul>

<blockquote>
  <p>Your bright future is awaiting for you so visit today
<a href="www.fullstackmaster.net">FullstackMaster</a> and allow me to help you to board
on your dream software company as a Developer,Architect or Lead Engineer role.
<strong>💖 Say 👋 to me!</strong></p>
</blockquote>

<div> 
Rupesh Tiwari </div>
<div>
<a href="https://www.rupeshtiwari.com"> www.rupeshtiwari.com</a> </div>
<div>
✉️ <a href="mailto:rupesh.tiwari.info@gmail.com?subject=Hi"> Email Rupesh</a> </div>
<div>
Founder of <a href="https://www.fullstackmaster.net"> Fullstack Master</a></div>
<div>
</div>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#angular" class="page__taxonomy-item" rel="tag">angular</a><span class="sep">, </span>
    
      <a href="/tags/#beginners" class="page__taxonomy-item" rel="tag">beginners</a><span class="sep">, </span>
    
      <a href="/tags/#devops" class="page__taxonomy-item" rel="tag">devops</a><span class="sep">, </span>
    
      <a href="/tags/#nx" class="page__taxonomy-item" rel="tag">nx</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#devops" class="page__taxonomy-item" rel="tag">devops</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-02-24">February 24, 2021</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=rupeshtiwari_co&text=Publishing+Merged+Code+Coverage+Report+of+Nx+Workspace+in+Azure+CI+Pipeline%20https%3A%2F%2Fwww.rupeshtiwari.com%2Fdevops%2Fmerge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.rupeshtiwari.com%2Fdevops%2Fmerge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.rupeshtiwari.com%2Fdevops%2Fmerge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/publishing-jekyll-blog-post-to-dev-to-using-github-ci-cd-pipeline/" class="pagination--pager" title="Publishing Jekyll Blog Post to DevTo using GitHub CI and CD Pipeline
">Previous</a>
    
    
      <a href="/managing-css-in-angular-app-for-cross-browsers-and-os/" class="pagination--pager" title="Managing CSS in Angular App for Cross Browsers and OS
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/qxXxmBa.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/roadmap-for-mastering-competitive-programming-for-beginners/" rel="permalink">Roadmap for mastering Coding &amp; Competitive Programming interview
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Are you non-computer background student? I am a Electronics Engineering student and have been in software company and worked more than 16 years from junio...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/qxXxmBa.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/how-to-start-preparing-for-coding-interview/" rel="permalink">How to start preparing for coding interview
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  When I started learning coding for a coding-interview for Facebook, Amazon or Google. I faced problems when I saw programmers were using terminologies lik...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/zZYQYQA.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/introduction-of-azure-data-center/" rel="permalink">Introduction of Azure Data Center
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Did you know how your servers are placed in Azure Data-Center? Do you understand how Azure Data Center protects your servers against software or hardware ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://i.imgur.com/qxXxmBa.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cloud-solution-architect-soft-skills-questions/" rel="permalink">Cloud Solution Architect Soft Skills Questions
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Are you preparing for cloud solution architect interview then you must aware of soft skill questions. In this article I will give you questions that you m...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <script data-ad-client="ca-pub-1700383344966810" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Disable Inspection Function -->
<script type="text/javascript">
  
</script>
<script>
    document.onkeydown = function (e) {
        if (event.keyCode == 123) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
            return false;
        }
    }
</script>
<div id='tawk_5eff6dee223d045fcb7b449a'></div>
<!--Start of Tawk.to Script-->
<script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function () {
        var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
        s1.async = true;
        s1.src = 'https://embed.tawk.to/5eff6dee223d045fcb7b449a/default';
        s1.charset = 'UTF-8';
        s1.setAttribute('crossorigin', '*');
        s0.parentNode.insertBefore(s1, s0);
    })();
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.2/mermaid.min.js"></script>
<script>
    mermaid.initialize({ startOnLoad: true });
</script>
<link rel="stylesheet" href="/assets/css/blog.css">
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://www.rupeshtiwari.com/posts" rel="nofollow noopener noreferrer"><i class="fas fa-registered" aria-hidden="true"></i> Blogs for Developers</a></li>
        
      
        
          <li><a href="https://www.facebook.com/fullstackmaster1" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/rupesh-tiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://fullstackmaster.net/course/3/mastering-meanjs" rel="nofollow noopener noreferrer"><i class="fab fa-angular" aria-hidden="true"></i> Learn Angular</a></li>
        
      
        
          <li><a href="https://github.com/rupeshtiwari#javascript-for-beginners-client-side" rel="nofollow noopener noreferrer"><i class="fas fa-crown" aria-hidden="true"></i> Become Software Developer Free</a></li>
        
      
        
          <li><a href="http://github.com/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://rupesh-tiwari.medium.com/" rel="nofollow noopener noreferrer"><i class="fab fa-medium" aria-hidden="true"></i> Medium</a></li>
        
      
        
          <li><a href="https://dev.to/rupeshtiwari" rel="nofollow noopener noreferrer"><i class="fab fa-dev" aria-hidden="true"></i> Dev.to</a></li>
        
      
        
          <li><a href="https://www.fullstackmaster.net" rel="nofollow noopener noreferrer"><i class="fas fa-graduation-cap" aria-hidden="true"></i> Fullstack Master</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Rupesh Tiwari - Founder of Fullstack Master. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://www.rupeshtiwari.com/devops/merge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/devops/merge-and-publish-code-coverage-for-nx-workspace-in-azure-ci-pipeline"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://https-rupeshtiwari-github-io-1.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
