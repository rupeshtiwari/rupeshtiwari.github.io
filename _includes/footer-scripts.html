{% if layout.common-ext-js %}
{% for js in layout.common-ext-js %}
{% include ext-js.html js=js %}
{% endfor %}
{% endif %}

{% if layout.common-js %}
{% for js in layout.common-js %}
<!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
{% if js contains 'jquery' %}
<script>
  if (typeof jQuery == 'undefined') {
    document.write('<script src="{{ js | relative_url }}"></scr' + 'ipt>');
  }
</script>
{% else %}
<script src="{{ js | relative_url }}"></script>
{% endif %}
{% endfor %}
{% endif %}

{% if site.site-js %}
{% for js in site.site-js %}
<script src="{{ js | relative_url }}"></script>
{% endfor %}
{% endif %}

{% if page.ext-js %}
{% for js in page.ext-js %}
{% include ext-js.html js=js %}
{% endfor %}
{% endif %}

{% if page.js %}
{% for js in page.js %}
<script src="{{ js | relative_url }}"></script>
{% endfor %}
{% endif %}

<div id="fb-root"></div>
<script async defer crossorigin="anonymous"
  src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v9.0&appId=421181512329379&autoLogAppEvents=1"
  nonce="ELm1TCnQ"></script>

{% if page.anchors %}
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function (event) {
    anchors.add();
  });
</script>
{% endif %}